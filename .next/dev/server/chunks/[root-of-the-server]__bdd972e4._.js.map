{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/api/appointments/route.ts"],"sourcesContent":["// app/api/appointments/route.ts\nimport { NextResponse } from \"next/server\";\nimport { Appointment } from \"@/types/Appointement\";\n\nlet appointments: Appointment[] = []; // in-memory store\n\n// GET all appointments\nexport async function GET() {\n  return NextResponse.json(appointments);\n}\n\n// POST add new appointment\nexport async function POST(req: Request) {\n  const newAppointment: Appointment = await req.json();\n\n  const appointment: Appointment = {\n    ...newAppointment,\n    _id: Date.now().toString(),\n    id: Date.now().toString(),\n    status: \"upcoming\",\n  };\n\n  appointments.push(appointment);\n\n  return NextResponse.json({ message: \"Appointment added\", appointment });\n}\n\nexport async function DELETE(req: Request) {\n  const url = new URL(req.url);\n  const id = url.searchParams.get(\"id\");\n  console.log(\"DELETE ID:\", id);\n  if (!id)\n    return NextResponse.json({ error: \"ID is required\" }, { status: 400 });\n\n  appointments = appointments.filter((a) => a.id !== id && a._id !== id);\n  console.log(\"Appointments after delete:\", appointments);\n  return NextResponse.json({ message: \"Appointment deleted\" });\n}\n\nexport async function PATCH(req: Request) {\n  const url = new URL(req.url);\n  const id = url.searchParams.get(\"id\");\n  if (!id)\n    return NextResponse.json({ error: \"ID is required\" }, { status: 400 });\n\n  const updateData: Partial<Appointment> = await req.json();\n  const index = appointments.findIndex((a) => a.id === id || a._id === id);\n  if (index === -1)\n    return NextResponse.json(\n      { error: \"Appointment not found\" },\n      { status: 404 }\n    );\n\n  appointments[index] = { ...appointments[index], ...updateData };\n  console.log(\"Appointments after update:\", appointments);\n  return NextResponse.json({\n    message: \"Appointment updated\",\n    appointment: appointments[index],\n  });\n}\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;;;;;AAChC;;AAGA,IAAI,eAA8B,EAAE,EAAE,kBAAkB;AAGjD,eAAe;IACpB,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B;AAGO,eAAe,KAAK,GAAY;IACrC,MAAM,iBAA8B,MAAM,IAAI,IAAI;IAElD,MAAM,cAA2B;QAC/B,GAAG,cAAc;QACjB,KAAK,KAAK,GAAG,GAAG,QAAQ;QACxB,IAAI,KAAK,GAAG,GAAG,QAAQ;QACvB,QAAQ;IACV;IAEA,aAAa,IAAI,CAAC;IAElB,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAqB;IAAY;AACvE;AAEO,eAAe,OAAO,GAAY;IACvC,MAAM,MAAM,IAAI,IAAI,IAAI,GAAG;IAC3B,MAAM,KAAK,IAAI,YAAY,CAAC,GAAG,CAAC;IAChC,QAAQ,GAAG,CAAC,cAAc;IAC1B,IAAI,CAAC,IACH,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAiB,GAAG;QAAE,QAAQ;IAAI;IAEtE,eAAe,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,MAAM,EAAE,GAAG,KAAK;IACnE,QAAQ,GAAG,CAAC,8BAA8B;IAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,SAAS;IAAsB;AAC5D;AAEO,eAAe,MAAM,GAAY;IACtC,MAAM,MAAM,IAAI,IAAI,IAAI,GAAG;IAC3B,MAAM,KAAK,IAAI,YAAY,CAAC,GAAG,CAAC;IAChC,IAAI,CAAC,IACH,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAiB,GAAG;QAAE,QAAQ;IAAI;IAEtE,MAAM,aAAmC,MAAM,IAAI,IAAI;IACvD,MAAM,QAAQ,aAAa,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,MAAM,EAAE,GAAG,KAAK;IACrE,IAAI,UAAU,CAAC,GACb,OAAO,gJAAY,CAAC,IAAI,CACtB;QAAE,OAAO;IAAwB,GACjC;QAAE,QAAQ;IAAI;IAGlB,YAAY,CAAC,MAAM,GAAG;QAAE,GAAG,YAAY,CAAC,MAAM;QAAE,GAAG,UAAU;IAAC;IAC9D,QAAQ,GAAG,CAAC,8BAA8B;IAC1C,OAAO,gJAAY,CAAC,IAAI,CAAC;QACvB,SAAS;QACT,aAAa,YAAY,CAAC,MAAM;IAClC;AACF","debugId":null}}]
}