{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/api/adoption/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nlet pets = [\n  {\n    id: 1,\n    name: \"Luna\",\n    type: \"Chien\",\n    breed: \"Berger Allemand\",\n    age: \"2 ans\",\n    gender: \"Femelle\",\n    location: \"Paris\",\n    distance: \"5 km\",\n    image:\n      \"https://images.unsplash.com/photo-1589941013453-ec89f33b5e95?auto=format&fit=crop&w=500&q=80\",\n  },\n  {\n    id: 2,\n    name: \"Oscar\",\n    type: \"Chat\",\n    breed: \"Européen\",\n    age: \"1 an\",\n    gender: \"Mâle\",\n    location: \"Lyon\",\n    distance: \"10 km\",\n    image:\n      \"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?auto=format&fit=crop&w=500&q=80\",\n  },\n  {\n    id: 3,\n    name: \"Rex\",\n    type: \"Chien\",\n    breed: \"Labrador\",\n    age: \"4 ans\",\n    gender: \"Mâle\",\n    location: \"Marseille\",\n    distance: \"8 km\",\n    image:\n      \"https://images.unsplash.com/photo-1552053831-71594a27632d?auto=format&fit=crop&w=500&q=80\",\n  },\n  {\n    id: 4,\n    name: \"Mia\",\n    type: \"Chat\",\n    breed: \"Siamois\",\n    age: \"3 ans\",\n    gender: \"Femelle\",\n    location: \"Toulouse\",\n    distance: \"15 km\",\n    image:\n      \"https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8?auto=format&fit=crop&w=500&q=80\",\n  },\n];\n\n// GET - fetch all pets\nexport async function GET() {\n  return NextResponse.json(pets);\n}\n\n// POST - add a new pet\nexport async function POST(request: Request) {\n  try {\n    const newPet = await request.json();\n\n    if (\n      !newPet.name ||\n      !newPet.type ||\n      !newPet.breed ||\n      !newPet.age ||\n      !newPet.gender ||\n      !newPet.location ||\n      !newPet.distance ||\n      !newPet.image\n    ) {\n      return NextResponse.json(\n        { error: \"All fields are required.\" },\n        { status: 400 }\n      );\n    }\n\n    newPet.id = pets.length + 1;\n    pets.push(newPet);\n\n    return NextResponse.json(\n      { message: \"Pet added successfully!\", pet: newPet },\n      { status: 201 }\n    );\n  } catch (error) {\n    return NextResponse.json(\n      { error: \"Invalid request format.\" },\n      { status: 400 }\n    );\n  }\n}\n\n// DELETE - delete a pet by id\nexport async function DELETE(request: Request) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const idParam = searchParams.get(\"id\");\n\n    if (!idParam) {\n      return NextResponse.json(\n        { error: \"Pet id is required.\" },\n        { status: 400 }\n      );\n    }\n\n    const petId = parseInt(idParam, 10);\n    const index = pets.findIndex((pet) => pet.id === petId);\n\n    if (index === -1) {\n      return NextResponse.json({ error: \"Pet not found.\" }, { status: 404 });\n    }\n\n    pets.splice(index, 1);\n    return NextResponse.json({ message: \"Pet deleted successfully!\" });\n  } catch (error) {\n    return NextResponse.json({ error: \"Invalid request.\" }, { status: 400 });\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,IAAI,OAAO;IACT;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,KAAK;QACL,QAAQ;QACR,UAAU;QACV,UAAU;QACV,OACE;IACJ;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,KAAK;QACL,QAAQ;QACR,UAAU;QACV,UAAU;QACV,OACE;IACJ;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,KAAK;QACL,QAAQ;QACR,UAAU;QACV,UAAU;QACV,OACE;IACJ;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,KAAK;QACL,QAAQ;QACR,UAAU;QACV,UAAU;QACV,OACE;IACJ;CACD;AAGM,eAAe;IACpB,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B;AAGO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,SAAS,MAAM,QAAQ,IAAI;QAEjC,IACE,CAAC,OAAO,IAAI,IACZ,CAAC,OAAO,IAAI,IACZ,CAAC,OAAO,KAAK,IACb,CAAC,OAAO,GAAG,IACX,CAAC,OAAO,MAAM,IACd,CAAC,OAAO,QAAQ,IAChB,CAAC,OAAO,QAAQ,IAChB,CAAC,OAAO,KAAK,EACb;YACA,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA2B,GACpC;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,EAAE,GAAG,KAAK,MAAM,GAAG;QAC1B,KAAK,IAAI,CAAC;QAEV,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAA2B,KAAK;QAAO,GAClD;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA0B,GACnC;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe,OAAO,OAAgB;IAC3C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,UAAU,aAAa,GAAG,CAAC;QAEjC,IAAI,CAAC,SAAS;YACZ,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAsB,GAC/B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,QAAQ,SAAS,SAAS;QAChC,MAAM,QAAQ,KAAK,SAAS,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;QAEjD,IAAI,UAAU,CAAC,GAAG;YAChB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACtE;QAEA,KAAK,MAAM,CAAC,OAAO;QACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA4B;IAClE,EAAE,OAAO,OAAO;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IACxE;AACF","debugId":null}}]
}