{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/auth/forgotpasswordform/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { Mail, ArrowLeft, CheckCircle, HeartPulse, AlertCircle } from 'lucide-react';\n\nexport default function ForgotPasswordPage() {\n    const router = useRouter();\n    const [email, setEmail] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [submitted, setSubmitted] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError('');\n\n        try {\n            const response = await fetch('/api/auth/forgot-password', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ email }),\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                throw new Error(data.error || 'Erreur lors de l\\'envoi du code');\n            }\n\n            console.log('‚úÖ R√©ponse API:', data);\n\n            // En d√©veloppement, afficher l'OTP dans la console\n            if (data.otp) {\n                console.log('üìß OTP re√ßu:', data.otp);\n            }\n\n            setLoading(false);\n            setSubmitted(true);\n\n            // Redirect to OTP verification after 2 seconds\n            setTimeout(() => {\n                router.push(`/auth/verifyotpform?email=${encodeURIComponent(email)}`);\n            }, 2000);\n        } catch (err: any) {\n            console.error('‚ùå Erreur:', err);\n            setError(err.message || 'Une erreur est survenue');\n            setLoading(false);\n        }\n    };\n\n    if (submitted) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F5F5DC] via-[#FFB8C2]/30 to-[#FF9A3D]/20 px-4 py-12\">\n                <div className=\"w-full max-w-md\">\n                    <div className=\"bg-white p-8 rounded-xl shadow-lg\">\n                        <div className=\"text-center\">\n                            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-[#FFB8C2]/20 to-[#FF9A3D]/20 rounded-full mb-4\">\n                                <CheckCircle size={32} className=\"text-[#FF9A3D]\" />\n                            </div>\n                            <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">\n                                Email envoy√© !\n                            </h1>\n                            <p className=\"text-gray-600 mb-6\">\n                                Nous avons envoy√© un code de v√©rification √†{' '}\n                                <span className=\"font-medium text-[#FF9A3D]\">{email}</span>\n                            </p>\n                            <p className=\"text-sm text-gray-500 mb-6\">\n                                Vous allez √™tre redirig√© automatiquement...\n                            </p>\n                            <Link\n                                href=\"/auth/verifyotpform\"\n                                className=\"text-[#FF9A3D] hover:text-[#FFB8C2] font-medium transition-colors\"\n                            >\n                                Continuer maintenant ‚Üí\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F5F5DC] via-[#FFB8C2]/30 to-[#FF9A3D]/20 px-4 py-12\">\n            <div className=\"w-full max-w-md\">\n                <div className=\"bg-white p-8 rounded-xl shadow-lg\">\n                    {/* Back to Login */}\n                    <Link\n                        href=\"/auth/login\"\n                        className=\"inline-flex items-center text-sm text-gray-600 hover:text-[#FF9A3D] mb-6 transition-colors\"\n                    >\n                        <ArrowLeft size={16} className=\"mr-2\" />\n                        Retour √† la connexion\n                    </Link>\n\n                    <div className=\"text-center mb-6\">\n                        <Link href=\"/\" className=\"inline-flex items-center justify-center mb-4\">\n                            <div className=\"bg-gradient-to-r from-[#FFB8C2] to-[#FF9A3D] rounded-full p-3\">\n                                <HeartPulse size={32} className=\"text-white\" />\n                            </div>\n                        </Link>\n                        <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">\n                            Mot de passe oubli√© ?\n                        </h1>\n                        <p className=\"text-gray-600\">\n                            Entrez votre email et nous vous enverrons un code de r√©initialisation\n                        </p>\n                    </div>\n\n                    <form onSubmit={handleSubmit} className=\"space-y-4\">\n                        {/* Error Message */}\n                        {error && (\n                            <div className=\"bg-red-50 border border-red-200 rounded-md p-3 flex items-start\">\n                                <AlertCircle size={18} className=\"text-red-500 mr-2 mt-0.5 flex-shrink-0\" />\n                                <p className=\"text-sm text-red-700\">{error}</p>\n                            </div>\n                        )}\n\n                        {/* Email Input */}\n                        <div>\n                            <label\n                                htmlFor=\"email\"\n                                className=\"block text-sm font-medium text-gray-700 mb-1\"\n                            >\n                                Adresse email\n                            </label>\n                            <div className=\"relative\">\n                                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                                    <Mail size={18} className=\"text-gray-400\" />\n                                </div>\n                                <input\n                                    id=\"email\"\n                                    name=\"email\"\n                                    type=\"email\"\n                                    autoComplete=\"email\"\n                                    required\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                    className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2] focus:border-[#FFB8C2]\"\n                                    placeholder=\"votre@email.com\"\n                                />\n                            </div>\n                        </div>\n\n                        {/* Submit Button */}\n                        <button\n                            type=\"submit\"\n                            disabled={loading}\n                            className={`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gradient-to-r from-[#FFB8C2] to-[#FF9A3D] hover:from-[#FF9A3D] hover:to-[#FFB8C2] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#FFB8C2] transition-all ${loading ? 'opacity-70 cursor-not-allowed' : ''\n                                }`}\n                        >\n                            {loading ? (\n                                <svg\n                                    className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                    fill=\"none\"\n                                    viewBox=\"0 0 24 24\"\n                                >\n                                    <circle\n                                        className=\"opacity-25\"\n                                        cx=\"12\"\n                                        cy=\"12\"\n                                        r=\"10\"\n                                        stroke=\"currentColor\"\n                                        strokeWidth=\"4\"\n                                    ></circle>\n                                    <path\n                                        className=\"opacity-75\"\n                                        fill=\"currentColor\"\n                                        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                    ></path>\n                                </svg>\n                            ) : (\n                                'Envoyer le code'\n                            )}\n                        </button>\n                    </form>\n\n                    {/* Info Text */}\n                    <p className=\"mt-6 text-center text-sm text-gray-500\">\n                        Vous allez recevoir un code de v√©rification √† 6 chiffres par email\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":"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","debugId":null}}]
}