{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/store/slices/hooks.ts"],"sourcesContent":["import { useDispatch, useSelector, TypedUseSelectorHook } from \"react-redux\";\nimport type { RootState, AppDispatch } from \"./index\";\n\n// Hooks typés pour Redux\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n"],"names":[],"mappings":";;;;;;AAAA;;AAIO,MAAM,iBAAiB,IAAM,IAAA,wKAAW;AACxC,MAAM,iBAAkD,wKAAW","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n    SearchIcon,\n    BellIcon,\n    MessageSquareIcon,\n    MenuIcon,\n    UserIcon,\n    HeartPulseIcon,\n    SettingsIcon,\n    LogOutIcon,\n    LockIcon,\n} from 'lucide-react';\nimport { useAppDispatch, useAppSelector } from '@/store/slices/hooks';\nimport { fetchUserProfile, logout } from '@/store/slices/authSlice';\n\ntype HeaderProps = {\n    // noms avec suffixe \"Action\" (conformes à Next) — page doit passer toggleSidebarAction / setActiveModuleAction\n    toggleSidebarAction?: () => void;\n    setActiveModuleAction?: React.Dispatch<React.SetStateAction<string>>;\n};\n\nexport function Header(props: HeaderProps) {\n    const { toggleSidebarAction, setActiveModuleAction } = props;\n    const onToggleSidebar = toggleSidebarAction;\n    const onSetActiveModule = setActiveModuleAction;\n\n    const router = useRouter();\n    const dispatch = useAppDispatch();\n    const { user, isAuthenticated } = useAppSelector((state) => state.auth);\n    const [showNotifications, setShowNotifications] = useState(false);\n    const [showUserMenu, setShowUserMenu] = useState(false);\n\n    useEffect(() => {\n        // Récupérer le profil utilisateur si authentifié\n        if (isAuthenticated && !user) {\n            dispatch(fetchUserProfile());\n        }\n    }, [isAuthenticated, user, dispatch]);\n\n\n    return (\n        <header className=\"bg-white border-b border-gray-200 shadow-sm\">\n            <div className=\"flex items-center justify-between px-4 py-3\">\n                {/* Menu button - mobile only */}\n                <button\n                    className=\"p-1 rounded-md hover:bg-gray-100 lg:hidden\"\n                    onClick={() => onToggleSidebar?.()}\n                >\n                    <MenuIcon size={24} />\n                </button>\n                {/* Logo/Home Link */}\n                <div className=\"text-lg font-bold text-gray-800 hidden md:block\">\n                    PetConnect\n                </div>\n\n                {/* Right side icons */}\n                <div className=\"flex items-center space-x-4\">\n                    {/* AI Assistant */}\n                    <button className=\"p-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full text-white hover:from-[#FFB8C2] hover:to-[#F5F5DC]\">\n                        <MessageSquareIcon size={20} />\n                    </button>\n\n                    {/* User profile */}\n                    <div className=\"relative\">\n                        <button\n                            className=\"flex items-center\"\n                            onClick={() => {\n                                setShowUserMenu(!showUserMenu);\n                                setShowNotifications(false);\n                            }}\n                        >\n                            <div className=\"h-8 w-8 rounded-full bg-gray-200 overflow-hidden\">\n                                {user?.avatar ? (\n                                    <img\n                                        src={user.avatar}\n                                        alt={`${user.firstName || 'Utilisateur'}`}\n                                        className=\"h-full w-full object-cover\"\n                                        onError={(e) => {\n                                            // Fallback vers image par défaut si erreur de chargement\n                                            e.currentTarget.src = 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=100&q=80';\n                                        }}\n                                    />\n                                ) : (\n                                    <div className=\"h-full w-full bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] flex items-center justify-center\">\n                                        <UserIcon size={16} className=\"text-white\" />\n                                    </div>\n                                )}\n                            </div>\n                        </button>\n                        {/* User menu dropdown */}\n                        {showUserMenu && (\n                            <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50\">\n                                <div className=\"p-3 border-b\">\n                                    <p className=\"font-medium text-gray-800\">\n                                        {user ? `${user.firstName || ''} ${user.lastName || ''}`.trim() || 'Utilisateur' : 'Utilisateur'}\n                                    </p>\n                                    <p className=\"text-xs text-gray-500\">\n                                        {user?.email || 'utilisateur@example.com'}\n                                    </p>\n                                </div>\n                                <div className=\"py-1\">\n                                    <button\n                                        onClick={() => onSetActiveModule?.('profile')}\n                                        className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                                    >\n                                        <UserIcon size={16} className=\"mr-2\" />\n                                        Mon profil\n                                    </button>\n                                    <button\n                                        onClick={() => router.push('/edit-profile')}\n                                        className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                                    >\n                                        <UserIcon size={16} className=\"mr-2\" />\n                                        Modifier profil\n                                    </button>\n                                    <button\n                                        onClick={() => router.push('/change-password')}\n                                        className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                                    >\n                                        <LockIcon size={16} className=\"mr-2\" />\n                                        Changer mot de passe\n                                    </button>\n                                    <button\n                                        onClick={() => onSetActiveModule?.('pets')}\n                                        className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                                    >\n                                        <HeartPulseIcon size={16} className=\"mr-2\" />\n                                        Mes animaux\n                                    </button>\n                                    <button\n                                        onClick={() => onSetActiveModule?.('settings')}\n                                        className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                                    >\n                                        <SettingsIcon size={16} className=\"mr-2\" />\n                                        Paramètres\n                                    </button>\n                                </div>\n                                <div className=\"py-1 border-t\">\n                                    <button\n                                        onClick={() => {\n                                            dispatch(logout());\n                                            router.push('/auth/login');\n                                        }}\n                                        className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100\"\n                                    >\n                                        <LogOutIcon size={16} className=\"mr-2\" />\n                                        Déconnexion\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n            {/* Mobile search - visible only on mobile */}\n            <div className=\"px-4 pb-3 lg:hidden\">\n                <div className=\"relative w-full\">\n                    <div className=\"absolute inset-y-0 left-0 flex items-center pl-3\">\n                        <SearchIcon size={18} className=\"text-gray-400\" />\n                    </div>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Rechercher...\"\n                        className=\"w-full py-2 pl-10 pr-4 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-[#FFB8C2] focus:bg-white\"\n                    />\n                </div>\n            </div>\n        </header>\n    );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport {\n    HeartPulseIcon,\n    UtensilsIcon,\n    GraduationCapIcon,\n    HomeIcon,\n    LayoutDashboardIcon,\n    BellIcon,\n    XIcon,\n    MenuIcon,\n    CalendarIcon,\n    UserIcon,\n    SettingsIcon,\n    AlertTriangleIcon,\n    ClockIcon,\n} from 'lucide-react';\n\ninterface UrgentReminder {\n    id: string;\n    type: 'vaccination' | 'appointment';\n    title: string;\n    petName: string;\n    date: string;\n    daysUntil: number;\n    urgencyLevel: 'critical' | 'warning' | 'info';\n}\n\ntype SidebarProps = {\n    activeModule: string;\n    setActiveModule: (module: string) => void;\n    isOpen: boolean;\n    setIsOpen: (isOpen: boolean) => void;\n};\n\nexport const Sidebar = ({\n    activeModule,\n    setActiveModule,\n    isOpen,\n    setIsOpen,\n}: SidebarProps) => {\n    const [urgentReminders, setUrgentReminders] = useState<UrgentReminder[]>([]);\n    const [loadingReminders, setLoadingReminders] = useState(true);\n    const [showAllReminders, setShowAllReminders] = useState(false);\n    const [maxVisibleReminders] = useState(3); // Nombre maximum de rappels visibles par défaut\n\n    useEffect(() => {\n        fetchUrgentReminders();\n        // Rafraîchir toutes les 5 minutes\n        const interval = setInterval(fetchUrgentReminders, 5 * 60 * 1000);\n        return () => clearInterval(interval);\n    }, []);\n\n    const fetchUrgentReminders = async () => {\n        try {\n            const response = await fetch('/api/health?action=urgent-reminders');\n            const data = await response.json();\n            if (data.reminders) {\n                setUrgentReminders(data.reminders);\n            }\n        } catch (error) {\n            console.error('Erreur lors du chargement des rappels urgents:', error);\n        } finally {\n            setLoadingReminders(false);\n        }\n    };\n\n    const formatReminderText = (reminder: UrgentReminder) => {\n        // Raccourcir le titre pour les vaccins\n        let shortTitle = reminder.title;\n        if (reminder.type === 'vaccination' && reminder.title.startsWith('Vaccin ')) {\n            shortTitle = reminder.title.replace('Vaccin ', '');\n        }\n\n        if (reminder.daysUntil === 0) {\n            return `${shortTitle}: Aujourd'hui`;\n        } else if (reminder.daysUntil === 1) {\n            return `${shortTitle}: Demain`;\n        } else if (reminder.daysUntil < -100) {\n            return `${shortTitle}: À programmer`;\n        } else if (reminder.daysUntil < 0) {\n            return `${shortTitle}: En retard (${Math.abs(reminder.daysUntil)}j)`;\n        } else {\n            return `${shortTitle}: ${reminder.daysUntil}j`;\n        }\n    };\n\n    const getReminderStyle = (urgencyLevel: string) => {\n        switch (urgencyLevel) {\n            case 'critical':\n                return {\n                    bg: 'bg-red-50',\n                    text: 'text-red-700',\n                    icon: 'text-red-500'\n                };\n            case 'warning':\n                return {\n                    bg: 'bg-orange-50',\n                    text: 'text-orange-700',\n                    icon: 'text-orange-500'\n                };\n            default:\n                return {\n                    bg: 'bg-blue-50',\n                    text: 'text-blue-700',\n                    icon: 'text-blue-500'\n                };\n        }\n    };\n\n    const getReminderIcon = (reminder: UrgentReminder) => {\n        if (reminder.urgencyLevel === 'critical') {\n            return <AlertTriangleIcon size={16} />;\n        } else if (reminder.type === 'vaccination') {\n            return <HeartPulseIcon size={16} />;\n        } else {\n            return <CalendarIcon size={16} />;\n        }\n    };\n    const mainNavItems = [\n        {\n            id: 'dashboard',\n            name: \"Vue d'ensemble\",\n            icon: <LayoutDashboardIcon size={20} />,\n        },\n        {\n            id: 'health',\n            name: 'Santé',\n            icon: <HeartPulseIcon size={20} />,\n        },\n        {\n            id: 'nutrition',\n            name: 'Nutrition',\n            icon: <UtensilsIcon size={20} />,\n        },\n        {\n            id: 'education',\n            name: 'Éducation',\n            icon: <GraduationCapIcon size={20} />,\n        },\n        {\n            id: 'adoption',\n            name: 'Adoption',\n            icon: <HomeIcon size={20} />,\n        },\n    ];\n    const userNavItems = [\n        {\n            id: 'pets',\n            name: 'Mes Animaux',\n            icon: <HeartPulseIcon size={20} />,\n        },\n        {\n            id: 'appointments',\n            name: 'Rendez-vous',\n            icon: <CalendarIcon size={20} />,\n        },\n        {\n            id: 'notifications',\n            name: 'Notifications',\n            icon: <BellIcon size={20} />,\n        },\n        {\n            id: 'profile',\n            name: 'Mon Profil',\n            icon: <UserIcon size={20} />,\n        },\n        {\n            id: 'settings',\n            name: 'Paramètres',\n            icon: <SettingsIcon size={20} />,\n        },\n    ];\n\n    return (\n        <>\n            {/* Mobile sidebar backdrop */}\n            {isOpen && (\n                <div\n                    className=\"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden\"\n                    onClick={() => setIsOpen(false)}\n                />\n            )}\n            {/* Sidebar */}\n            <aside\n                className={`fixed inset-y-0 left-0 z-30 w-64 transform bg-white shadow-lg transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}\n            >\n                <div className=\"flex h-full flex-col\">\n                    {/* Logo and close button */}\n                    <div className=\"flex items-center justify-between p-4 border-b\">\n                        <div className=\"flex items-center space-x-2\">\n                            <div className=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full p-1\">\n                                <HeartPulseIcon size={24} className=\"text-white\" />\n                            </div>\n                            <h1 className=\"text-xl font-bold text-gray-800\">PetConnect</h1>\n                        </div>\n                        <button\n                            className=\"p-1 rounded-md hover:bg-gray-100 lg:hidden\"\n                            onClick={() => setIsOpen(false)}\n                        >\n                            <XIcon size={20} />\n                        </button>\n                    </div>\n                    {/* Navigation */}\n                    <nav className=\"flex-1 overflow-y-auto p-4\">\n                        <div className=\"mb-6\">\n                            <h3 className=\"mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\n                                Modules\n                            </h3>\n                            <ul className=\"space-y-1\">\n                                {mainNavItems.map((item) => (\n                                    <li key={item.id}>\n                                        <button\n                                            className={`flex w-full items-center space-x-3 rounded-lg px-3 py-2 transition-colors ${activeModule === item.id ? 'bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] text-white' : 'text-gray-700 hover:bg-gray-100'}`}\n                                            onClick={() => {\n                                                setActiveModule(item.id);\n                                                setIsOpen(false);\n                                            }}\n                                        >\n                                            <span\n                                                className={\n                                                    activeModule === item.id\n                                                        ? 'text-white'\n                                                        : 'text-gray-500'\n                                                }\n                                            >\n                                                {item.icon}\n                                            </span>\n                                            <span>{item.name}</span>\n                                        </button>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                        <div>\n                            <h3 className=\"mb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\n                                Mon Compte\n                            </h3>\n                            <ul className=\"space-y-1\">\n                                {userNavItems.map((item) => (\n                                    <li key={item.id}>\n                                        <button\n                                            className={`flex w-full items-center space-x-3 rounded-lg px-3 py-2 transition-colors ${activeModule === item.id ? 'bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] text-white' : 'text-gray-700 hover:bg-gray-100'}`}\n                                            onClick={() => {\n                                                setActiveModule(item.id);\n                                                setIsOpen(false);\n                                            }}\n                                        >\n                                            <span\n                                                className={\n                                                    activeModule === item.id\n                                                        ? 'text-white'\n                                                        : 'text-gray-500'\n                                                }\n                                            >\n                                                {item.icon}\n                                            </span>\n                                            <span>{item.name}</span>\n                                        </button>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                    </nav>\n\n                    {/* Urgent Reminders */}\n                    <div className=\"border-t p-4\">\n                        <h3 className=\"mb-2 text-sm font-medium text-gray-500\">\n                            Rappels urgents\n                        </h3>\n                        {loadingReminders ? (\n                            <div className=\"flex items-center justify-center py-4\">\n                                <ClockIcon className=\"w-4 h-4 animate-spin text-gray-400 mr-2\" />\n                                <span className=\"text-xs text-gray-500\">Chargement...</span>\n                            </div>\n                        ) : urgentReminders.length > 0 ? (\n                            <div className=\"space-y-2\">\n                                {/* Container avec scroll si plus de 3 éléments */}\n                                <div className={`space-y-2 ${urgentReminders.length > maxVisibleReminders && !showAllReminders\n                                    ? 'max-h-40 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 pr-1'\n                                    : ''\n                                    }`}>\n                                    {(showAllReminders ? urgentReminders : urgentReminders.slice(0, maxVisibleReminders)).map((reminder) => {\n                                        const style = getReminderStyle(reminder.urgencyLevel);\n                                        return (\n                                            <div key={reminder.id} className={`rounded-lg ${style.bg} p-3 transition-all duration-200 hover:shadow-sm`}>\n                                                <div className=\"flex items-center space-x-2\">\n                                                    <span className={style.icon}>\n                                                        {getReminderIcon(reminder)}\n                                                    </span>\n                                                    <div className=\"flex-1 min-w-0\">\n                                                        <p className={`text-xs font-medium ${style.text} truncate`} title={`${reminder.title} - ${reminder.petName}`}>\n                                                            {formatReminderText(reminder)}\n                                                        </p>\n                                                        <p className=\"text-xs text-gray-500 truncate\" title={reminder.petName}>\n                                                            {reminder.petName}\n                                                        </p>\n                                                        {reminder.urgencyLevel === 'critical' && (\n                                                            <div className=\"flex items-center mt-1\">\n                                                                <div className=\"w-1 h-1 bg-red-500 rounded-full mr-1 animate-pulse\"></div>\n                                                                <span className=\"text-xs text-red-600 font-medium\">Urgent</span>\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n\n                                {/* Bouton \"Voir plus\" si il y a plus de rappels */}\n                                {urgentReminders.length > maxVisibleReminders && (\n                                    <button\n                                        onClick={() => setShowAllReminders(!showAllReminders)}\n                                        className=\"w-full mt-2 py-2 px-3 text-xs text-[#FFB8C2] hover:text-[#E6A4B4] font-medium border border-[#FFB8C2] hover:border-[#E6A4B4] rounded-lg transition-colors duration-200 hover:bg-[#FFB8C2] hover:bg-opacity-5\"\n                                    >\n                                        {showAllReminders\n                                            ? `Voir moins (${urgentReminders.length - maxVisibleReminders} masqués)`\n                                            : `Voir plus (${urgentReminders.length - maxVisibleReminders} autres)`\n                                        }\n                                    </button>\n                                )}\n\n                                {/* Indicateur du nombre total */}\n                                {urgentReminders.length > 1 && (\n                                    <div className=\"text-center mt-2 pt-2 border-t border-gray-200\">\n                                        <p className=\"text-xs text-gray-500\">\n                                            {urgentReminders.length} rappel{urgentReminders.length > 1 ? 's' : ''}\n                                            {urgentReminders.filter(r => r.type === 'vaccination').length > 0 && (\n                                                <span className=\"ml-1 text-blue-600\">\n                                                    • {urgentReminders.filter(r => r.type === 'vaccination').length} vaccin{urgentReminders.filter(r => r.type === 'vaccination').length > 1 ? 's' : ''}\n                                                </span>\n                                            )}\n                                            {urgentReminders.filter(r => r.urgencyLevel === 'critical').length > 0 && (\n                                                <span className=\"ml-1 text-red-600 font-medium\">\n                                                    • {urgentReminders.filter(r => r.urgencyLevel === 'critical').length} urgent{urgentReminders.filter(r => r.urgencyLevel === 'critical').length > 1 ? 's' : ''}\n                                                </span>\n                                            )}\n                                        </p>\n                                    </div>\n                                )}\n                            </div>\n                        ) : (\n                            <div className=\"text-center py-4\">\n                                <BellIcon className=\"w-8 h-8 mx-auto mb-2 text-gray-300\" />\n                                <p className=\"text-xs text-gray-500\">Aucun rappel urgent</p>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </aside>\n        </>\n    );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/AIAssistantCard.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { MessageSquareIcon, SendIcon, MicIcon } from 'lucide-react';\n\nexport const AIAssistantCard = () => {\n    const [message, setMessage] = useState('');\n    const [chatHistory, setChatHistory] = useState<{ role: string; content: string }[]>([\n        { role: 'assistant', content: \"Bonjour ! Comment puis-je vous aider avec votre animal aujourd'hui ?\" },\n    ]);\n    const [loading, setLoading] = useState(false);\n\n    const chatContainerRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (chatContainerRef.current) {\n            chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n        }\n    }, [chatHistory]);\n\n    const handleSend = async () => {\n        if (!message.trim()) return;\n\n        setChatHistory((prev) => [...prev, { role: 'user', content: message }]);\n        setLoading(true);\n        const userMessage = message;\n        setMessage('');\n\n        try {\n            const res = await fetch('/api/groqChat', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ message: userMessage }),\n            });\n\n            if (!res.ok) {\n                const text = await res.text();\n                console.error('API error:', text);\n                setChatHistory((prev) => [...prev, { role: 'assistant', content: 'Erreur lors de la requête.' }]);\n                return;\n            }\n\n            const data = await res.json();\n            setChatHistory((prev) => [...prev, { role: 'assistant', content: data.message }]);\n        } catch (error) {\n            console.error('Fetch error:', error);\n            setChatHistory((prev) => [...prev, { role: 'assistant', content: 'Erreur lors de la requête.' }]);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow h-full flex flex-col max-w-md mx-auto\">\n            <div className=\"flex items-center mb-4\">\n                <div className=\"p-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full mr-3\">\n                    <MessageSquareIcon size={24} className=\"text-white\" />\n                </div>\n                <h3 className=\"text-lg font-semibold text-gray-800\">Assistant IA PetConnect</h3>\n            </div>\n\n            <div\n                ref={chatContainerRef}\n                className=\"flex-1 overflow-y-auto mb-4 space-y-2\"\n                style={{ maxHeight: '300px' }}  // Hauteur maximale pour le défilement\n            >\n                {chatHistory.map((msg, idx) => (\n                    <div\n                        key={idx}\n                        className={`p-2 rounded-lg ${msg.role === 'assistant'\n                            ? 'bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] text-black'\n                            : 'bg-gray-100 text-gray-800'\n                            }`}\n                    >\n                        {msg.content}\n                    </div>\n                ))}\n            </div>\n\n            <form\n                className=\"flex space-x-2 mt-auto\"\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    handleSend();\n                }}\n            >\n                <input\n                    type=\"text\"\n                    value={message}\n                    onChange={(e) => setMessage(e.target.value)}\n                    placeholder=\"Posez une question...\"\n                    className=\"flex-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n                />\n                <button\n                    type=\"button\"\n                    className=\"p-2 bg-gray-100 rounded-md hover:bg-gray-200\"\n                    onClick={() => console.log('Mic clicked')}\n                >\n                    <MicIcon size={20} className=\"text-gray-600\" />\n                </button>\n                <button\n                    type=\"submit\"\n                    className=\"p-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] text-white rounded-md hover:from-[#FFB8C2] hover:to-[#F5F5DC]\"\n                    disabled={loading}\n                >\n                    <SendIcon size={20} />\n                </button>\n            </form>\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAKO,MAAM,kBAAkB;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAsC;QAChF;YAAE,MAAM;YAAa,SAAS;QAAuE;KACxG;IACD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,mBAAmB,IAAA,+MAAM,EAAiB;IAEhD,IAAA,kNAAS,EAAC;QACN,IAAI,iBAAiB,OAAO,EAAE;YAC1B,iBAAiB,OAAO,CAAC,SAAS,GAAG,iBAAiB,OAAO,CAAC,YAAY;QAC9E;IACJ,GAAG;QAAC;KAAY;IAEhB,MAAM,aAAa;QACf,IAAI,CAAC,QAAQ,IAAI,IAAI;QAErB,eAAe,CAAC,OAAS;mBAAI;gBAAM;oBAAE,MAAM;oBAAQ,SAAS;gBAAQ;aAAE;QACtE,WAAW;QACX,MAAM,cAAc;QACpB,WAAW;QAEX,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,iBAAiB;gBACrC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS;gBAAY;YAChD;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE;gBACT,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ,KAAK,CAAC,cAAc;gBAC5B,eAAe,CAAC,OAAS;2BAAI;wBAAM;4BAAE,MAAM;4BAAa,SAAS;wBAA6B;qBAAE;gBAChG;YACJ;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,eAAe,CAAC,OAAS;uBAAI;oBAAM;wBAAE,MAAM;wBAAa,SAAS,KAAK,OAAO;oBAAC;iBAAE;QACpF,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,eAAe,CAAC,OAAS;uBAAI;oBAAM;wBAAE,MAAM;wBAAa,SAAS;oBAA6B;iBAAE;QACpG,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,iPAAiB;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAE3C,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;;;;;;;0BAGxD,8OAAC;gBACG,KAAK;gBACL,WAAU;gBACV,OAAO;oBAAE,WAAW;gBAAQ;0BAE3B,YAAY,GAAG,CAAC,CAAC,KAAK,oBACnB,8OAAC;wBAEG,WAAW,CAAC,eAAe,EAAE,IAAI,IAAI,KAAK,cACpC,4DACA,6BACA;kCAEL,IAAI,OAAO;uBANP;;;;;;;;;;0BAWjB,8OAAC;gBACG,WAAU;gBACV,UAAU,CAAC;oBACP,EAAE,cAAc;oBAChB;gBACJ;;kCAEA,8OAAC;wBACG,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,aAAY;wBACZ,WAAU;;;;;;kCAEd,8OAAC;wBACG,MAAK;wBACL,WAAU;wBACV,SAAS,IAAM,QAAQ,GAAG,CAAC;kCAE3B,cAAA,8OAAC,+MAAO;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAEjC,8OAAC;wBACG,MAAK;wBACL,WAAU;wBACV,UAAU;kCAEV,cAAA,8OAAC,kNAAQ;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKpC","debugId":null}},
    {"offset": {"line": 1267, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/ReminderWidget.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { CalendarIcon, AlertCircleIcon, ClockIcon } from 'lucide-react';\nimport { Appointment } from '@/types/Appointement';\n\nexport const ReminderWidget = () => {\n    const [appointments, setAppointments] = useState<Appointment[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetchUpcomingAppointments();\n    }, []);\n\n    const fetchUpcomingAppointments = async () => {\n        try {\n            const response = await fetch('/api/appointments');\n            const data = await response.json();\n\n            // Filtrer les rendez-vous à venir et les trier par date\n            const upcomingAppointments = data\n                .filter((apt: Appointment) => apt.status === 'upcoming')\n                .sort((a: Appointment, b: Appointment) => {\n                    const dateA = new Date(`${a.date} ${a.time}`);\n                    const dateB = new Date(`${b.date} ${b.time}`);\n                    return dateA.getTime() - dateB.getTime();\n                })\n                .slice(0, 3); // Limiter à 3 rendez-vous\n\n            setAppointments(upcomingAppointments);\n        } catch (error) {\n            console.error('Erreur lors du chargement des rendez-vous:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const formatDate = (dateStr: string, timeStr: string) => {\n        const appointmentDate = new Date(`${dateStr} ${timeStr}`);\n        const now = new Date();\n        const diffTime = appointmentDate.getTime() - now.getTime();\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n        const options: Intl.DateTimeFormatOptions = {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric'\n        };\n        const formattedDate = appointmentDate.toLocaleDateString('fr-FR', options);\n\n        if (diffDays === 0) {\n            return `${formattedDate} - Aujourd'hui`;\n        } else if (diffDays === 1) {\n            return `${formattedDate} - Demain`;\n        } else if (diffDays > 0) {\n            return `${formattedDate} - Dans ${diffDays} jours`;\n        } else {\n            return `${formattedDate} - Passé`;\n        }\n    };\n\n    const getAppointmentColor = (dateStr: string, timeStr: string) => {\n        const appointmentDate = new Date(`${dateStr} ${timeStr}`);\n        const now = new Date();\n        const diffTime = appointmentDate.getTime() - now.getTime();\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n        if (diffDays <= 1) {\n            return {\n                bg: 'bg-red-50',\n                border: 'border-red-500',\n                icon: 'text-red-500'\n            };\n        } else if (diffDays <= 7) {\n            return {\n                bg: 'bg-orange-50',\n                border: 'border-orange-500',\n                icon: 'text-orange-500'\n            };\n        } else {\n            return {\n                bg: 'bg-blue-50',\n                border: 'border-blue-500',\n                icon: 'text-blue-500'\n            };\n        }\n    };\n\n    return (\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow\">\n            <div className=\"flex items-center mb-4\">\n                <div className=\"p-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full mr-3\">\n                    <CalendarIcon size={24} className=\"text-white\" />\n                </div>\n                <h3 className=\"text-lg font-semibold text-gray-800\">\n                    Prochains rappels\n                </h3>\n            </div>\n            <div className=\"space-y-3\">\n                {loading ? (\n                    <div className=\"flex items-center justify-center py-8\">\n                        <ClockIcon className=\"w-6 h-6 animate-spin text-[#FFB8C2] mr-2\" />\n                        <span className=\"text-gray-600\">Chargement...</span>\n                    </div>\n                ) : appointments.length > 0 ? (\n                    appointments.map((appointment) => {\n                        const colors = getAppointmentColor(appointment.date, appointment.time);\n                        return (\n                            <div key={appointment._id || appointment.id} className={`flex items-center p-3 ${colors.bg} rounded-lg border-l-4 ${colors.border}`}>\n                                <div className=\"mr-3\">\n                                    <CalendarIcon size={20} className={colors.icon} />\n                                </div>\n                                <div className=\"flex-1\">\n                                    <p className=\"font-medium text-gray-800\">\n                                        {appointment.title || appointment.type}\n                                    </p>\n                                    <p className=\"text-sm text-gray-600\">\n                                        {appointment.pet && `${appointment.pet} • `}\n                                        {formatDate(appointment.date, appointment.time)}\n                                    </p>\n                                    {appointment.doctor && (\n                                        <p className=\"text-xs text-gray-500\">\n                                            Dr. {appointment.doctor}\n                                        </p>\n                                    )}\n                                </div>\n                                <button className=\"text-sm text-[#FFB8C2] hover:underline\">\n                                    Détails\n                                </button>\n                            </div>\n                        );\n                    })\n                ) : (\n                    <div className=\"text-center py-8\">\n                        <CalendarIcon className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\n                        <p className=\"text-gray-500 mb-2\">Aucun rendez-vous à venir</p>\n                        <p className=\"text-sm text-gray-400\">Planifiez votre prochain rendez-vous</p>\n                    </div>\n                )}\n            </div>\n            <button className=\"mt-4 text-sm text-[#FFB8C2] hover:underline\">\n                Voir tous les rappels\n            </button>\n        </div>\n    );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1537, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/HealthStatusCard.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\n\ntype HealthStatusCardProps = {\n    title: string;\n    status: 'success' | 'warning' | 'danger' | 'info';\n    value: string;\n    icon: React.ReactNode;\n};\n\nexport const HealthStatusCard = ({\n    title,\n    status,\n    value,\n    icon,\n}: HealthStatusCardProps) => {\n    const getStatusColors = () => {\n        switch (status) {\n            case 'success':\n                return 'bg-green-50 border-green-200';\n            case 'warning':\n                return 'bg-orange-50 border-orange-200';\n            case 'danger':\n                return 'bg-red-50 border-red-200';\n            case 'info':\n            default:\n                return 'bg-blue-50 border-blue-200';\n        }\n    };\n    return (\n        <div\n            className={`p-4 rounded-xl border ${getStatusColors()} hover:shadow-sm transition-shadow`}\n        >\n            <div className=\"flex items-center justify-between mb-2\">\n                <h3 className=\"text-sm font-medium text-gray-700\">{title}</h3>\n                {icon}\n            </div>\n            <p className=\"text-xl font-semibold text-gray-800\">{value}</p>\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;;AAWO,MAAM,mBAAmB,CAAC,EAC7B,KAAK,EACL,MAAM,EACN,KAAK,EACL,IAAI,EACgB;IACpB,MAAM,kBAAkB;QACpB,OAAQ;YACJ,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX,KAAK;YACL;gBACI,OAAO;QACf;IACJ;IACA,qBACI,8OAAC;QACG,WAAW,CAAC,sBAAsB,EAAE,kBAAkB,kCAAkC,CAAC;;0BAEzF,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAqC;;;;;;oBAClD;;;;;;;0BAEL,8OAAC;gBAAE,WAAU;0BAAuC;;;;;;;;;;;;AAGhE","debugId":null}},
    {"offset": {"line": 1598, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/PetProfiles.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { PlusIcon } from 'lucide-react';\n\ninterface Pet {\n  _id: string;\n  name: string;\n  breed: string;\n  age?: string;\n  image?: string;\n  status: string;\n}\n\ninterface PetProfilesProps {\n  token?: string;\n  onAddPet?: () => void;\n}\n\nexport const PetProfiles = ({ token, onAddPet }: PetProfilesProps) => {\n  const [pets, setPets] = useState<Pet[]>([]);\n\n  const fetchPets = async () => {\n    if (!token) return;\n    try {\n      const res = await fetch('/api/pets', {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const data = await res.json();\n      if (res.ok) setPets(data.pets);\n      else throw new Error(data.error || 'Erreur lors du chargement');\n    } catch (err: any) {\n      console.error(err);\n      alert(err.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchPets();\n  }, [token]);\n\n  return (\n    <div>\n      <h2 className=\"text-lg font-semibold text-gray-700 mb-3\">Mes animaux</h2>\n\n      <div className=\"flex space-x-4 overflow-x-auto pb-2\">\n        {pets.map((pet) => (\n          <div\n            key={pet._id}\n            className=\"flex-shrink-0 w-40 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\"\n          >\n            <div className=\"h-32 overflow-hidden\">\n              <img\n                src={pet.image || '/default-pet.png'}\n                alt={pet.name}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            <div className=\"p-3\">\n              <h3 className=\"font-medium text-gray-800\">{pet.name}</h3>\n              <p className=\"text-xs text-gray-500\">\n                {pet.breed} • {pet.age || '—'}\n              </p>\n              <div className=\"mt-2 flex justify-between items-center\">\n                <span\n                  className={`text-xs px-2 py-0.5 rounded-full ${\n                    pet.status === 'Actif'\n                      ? 'bg-green-100 text-green-800'\n                      : 'bg-gray-100 text-gray-800'\n                  }`}\n                >\n                  {pet.status}\n                </span>\n                <button className=\"text-xs text-[#FFB8C2] hover:underline\">\n                  Profil\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n\n        <button\n          onClick={onAddPet}\n          className=\"flex-shrink-0 w-40 h-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-dashed border-gray-300 p-6 hover:bg-gray-100 transition-colors\"\n        >\n          <div className=\"p-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full mb-2\">\n            <PlusIcon size={20} className=\"text-white\" />\n          </div>\n          <p className=\"text-sm text-gray-600 text-center\">Ajouter un animal</p>\n        </button>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAmBO,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAoB;IAC/D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAE1C,MAAM,YAAY;QAChB,IAAI,CAAC,OAAO;QACZ,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,aAAa;gBACnC,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,IAAI,EAAE,EAAE,QAAQ,KAAK,IAAI;iBACxB,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;QACrC,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC;YACd,MAAM,IAAI,OAAO;QACnB;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAM;IAEV,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA2C;;;;;;0BAEzD,8OAAC;gBAAI,WAAU;;oBACZ,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;4BAEC,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCACC,KAAK,IAAI,KAAK,IAAI;wCAClB,KAAK,IAAI,IAAI;wCACb,WAAU;;;;;;;;;;;8CAGd,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAA6B,IAAI,IAAI;;;;;;sDACnD,8OAAC;4CAAE,WAAU;;gDACV,IAAI,KAAK;gDAAC;gDAAI,IAAI,GAAG,IAAI;;;;;;;sDAE5B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,WAAW,CAAC,iCAAiC,EAC3C,IAAI,MAAM,KAAK,UACX,gCACA,6BACJ;8DAED,IAAI,MAAM;;;;;;8DAEb,8OAAC;oDAAO,WAAU;8DAAyC;;;;;;;;;;;;;;;;;;;2BAzB1D,IAAI,GAAG;;;;;kCAiChB,8OAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,kNAAQ;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;0CAEhC,8OAAC;gCAAE,WAAU;0CAAoC;;;;;;;;;;;;;;;;;;;;;;;;AAK3D","debugId":null}},
    {"offset": {"line": 1774, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/ModuleCard.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\n\ntype ModuleCardProps = {\n    title: string;\n    description: string;\n    icon: React.ReactNode;\n    color: string;\n    link: string;\n};\n\nexport const ModuleCard = ({\n    title,\n    description,\n    icon,\n    color,\n    link,\n}: ModuleCardProps) => {\n    return (\n        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow\">\n            <div className=\"flex items-center mb-4\">\n                <div className={`p-2 rounded-full mr-3 ${color} text-white`}>\n                    {icon}\n                </div>\n                <h3 className=\"text-lg font-semibold text-gray-800\">{title}</h3>\n            </div>\n            <p className=\"text-gray-600 mb-4 text-sm\">{description}</p>\n            <button className=\"text-[#FFB8C2] font-medium hover:underline\">\n                Accéder\n            </button>\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;;AAYO,MAAM,aAAa,CAAC,EACvB,KAAK,EACL,WAAW,EACX,IAAI,EACJ,KAAK,EACL,IAAI,EACU;IACd,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAW,CAAC,sBAAsB,EAAE,MAAM,WAAW,CAAC;kCACtD;;;;;;kCAEL,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;;;;;;;0BAEzD,8OAAC;gBAAE,WAAU;0BAA8B;;;;;;0BAC3C,8OAAC;gBAAO,WAAU;0BAA6C;;;;;;;;;;;;AAK3E","debugId":null}},
    {"offset": {"line": 1837, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/pets/components/PetForm.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { XIcon, SaveIcon, UploadIcon } from 'lucide-react';\nimport { jwtDecode } from 'jwt-decode';\n\n\ninterface PetFormProps {\n  pet?: {\n    _id?: string;\n    name: string;\n    type: string;\n    breed: string;\n    age?: string;\n    gender: string;\n    weight?: string;\n    image?: string;\n    microchip?: string;\n    birthdate?: string;\n    status?: string;\n  };\n  token: string;\n  onSaved: () => void;\n  onClose: () => void;\n}\n\nexport const PetForm = ({ pet, token, onSaved, onClose }: PetFormProps) => {\n  const [formData, setFormData] = useState({\n    name: pet?.name || '',\n    type: pet?.type || 'Chien',\n    breed: pet?.breed || '',\n    age: pet?.age || '',\n    gender: pet?.gender || 'Mâle',\n    birthdate: pet?.birthdate || '',\n    weight: pet?.weight?.replace(' kg', '') || '',\n    microchip: pet?.microchip || '',\n    image: pet?.image || '',\n    status: pet?.status || 'Actif',\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const decoded: any = jwtDecode(token);\n      const userId = decoded.userId || decoded.id;\n      if (!userId) throw new Error('Utilisateur non authentifié');\n\n      const method = pet ? 'PATCH' : 'POST';\n      const url = '/api/pets'; // just POST or PATCH to same endpoint\n      const body = pet ? { ...formData, id: pet._id } : formData; // 👈 add id for PATCH\n\n      const res = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(body),\n      });\n\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Erreur serveur');\n\n      onSaved();\n      onClose();\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n\n  return (\n    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg font-semibold text-gray-800\">\n          {pet ? 'Modifier les informations' : 'Ajouter un animal'}\n        </h2>\n        <button\n          className=\"p-1 rounded-full hover:bg-gray-100\"\n          onClick={onClose}\n        >\n          <XIcon size={20} className=\"text-gray-500\" />\n        </button>\n      </div>\n\n      {error && <p className=\"text-red-500 mb-3\">{error}</p>}\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div className=\"flex flex-col md:flex-row gap-6\">\n          {/* Image Upload */}\n          <div className=\"md:w-1/3 flex flex-col items-center\">\n            <div className=\"relative w-48 h-48 bg-gray-100 rounded-lg overflow-hidden mb-2\">\n              {formData.image ? (\n                <img\n                  src={formData.image}\n                  alt=\"Preview\"\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"flex flex-col items-center justify-center h-full\">\n                  <UploadIcon size={36} className=\"text-gray-400 mb-2\" />\n                  <p className=\"text-sm text-gray-500 text-center px-4\">\n                    Glissez une image ou cliquez pour parcourir\n                  </p>\n                </div>\n              )}\n              <input\n                type=\"file\"\n                className=\"absolute inset-0 opacity-0 cursor-pointer\"\n                accept=\"image/*\"\n                onChange={(e) => {\n                  const file = e.target.files?.[0];\n                  if (file) {\n                    const reader = new FileReader();\n                    reader.onload = () =>\n                      setFormData((prev) => ({\n                        ...prev,\n                        image: reader.result as string,\n                      }));\n                    reader.readAsDataURL(file);\n                  }\n                }}\n              />\n            </div>\n            <p className=\"text-xs text-gray-500\">Format JPG ou PNG, 5MB max</p>\n          </div>\n\n          {/* Form Fields */}\n          <div className=\"md:w-2/3 grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Nom\"\n              value={formData.name}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n              required\n            />\n            <select\n              name=\"type\"\n              value={formData.type}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n            >\n              <option value=\"Chien\">Chien</option>\n              <option value=\"Chat\">Chat</option>\n              <option value=\"Lapin\">Lapin</option>\n              <option value=\"Oiseau\">Oiseau</option>\n              <option value=\"Autre\">Autre</option>\n            </select>\n            <input\n              type=\"text\"\n              name=\"breed\"\n              placeholder=\"Race\"\n              value={formData.breed}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n            />\n            <input\n              type=\"number\"\n              name=\"age\"\n              placeholder=\"Âge (ans)\"\n              value={formData.age}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n              required\n              min={0}\n            />\n            <select\n              name=\"gender\"\n              value={formData.gender}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n            >\n              <option value=\"Mâle\">Mâle</option>\n              <option value=\"Femelle\">Femelle</option>\n            </select>\n            <input\n              type=\"date\"\n              name=\"birthdate\"\n              value={formData.birthdate}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n            />\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              min=\"0\"\n              name=\"weight\"\n              placeholder=\"Poids (kg)\"\n              value={formData.weight}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n            />\n            <input\n              type=\"text\"\n              name=\"microchip\"\n              placeholder=\"Numéro de puce (optionnel)\"\n              value={formData.microchip}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n            />\n            <select\n              name=\"status\"\n              value={formData.status}\n              onChange={handleChange}\n              className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n            >\n              <option value=\"Actif\">Actif</option>\n              <option value=\"Inactif\">Inactif</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end space-x-3\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            Annuler\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className={`flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] text-white rounded-md hover:from-[#FFB8C2] hover:to-[#F5F5DC] ${loading ? 'opacity-70 cursor-not-allowed' : ''\n              }`}\n          >\n            <SaveIcon size={16} />\n            <span>{pet ? 'Enregistrer' : 'Ajouter'}</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2296, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/components/Dashboard.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { AIAssistantCard } from './AIAssistantCard';\nimport { ReminderWidget } from './ReminderWidget';\nimport { HealthStatusCard } from './HealthStatusCard';\nimport { PetProfiles } from './PetProfiles';\nimport { ModuleCard } from './ModuleCard';\nimport { PetForm } from '@/app/pets/components/PetForm';\nimport {\n  HeartPulseIcon,\n  UtensilsIcon,\n  GraduationCapIcon,\n  HomeIcon,\n  CalendarIcon,\n  ActivityIcon,\n  ClipboardListIcon,\n  BrainIcon,\n} from 'lucide-react';\n\nexport const Dashboard = () => {\n  const [token, setToken] = useState<string | null>(null);\n  const [showForm, setShowForm] = useState(false);\n\n  useEffect(() => {\n    // Example: grab token from localStorage\n    const storedToken = localStorage.getItem('token');\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-2xl font-bold text-gray-800\">Vue d'ensemble</h1>\n\n      {/* Top row - AI Assistant and Reminders */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\" style={{ minHeight: '500px' }}>\n        <AIAssistantCard />\n        <ReminderWidget />\n      </div>\n\n      {/* Health Status Row */}\n      <div>\n        <h2 className=\"text-lg font-semibold text-gray-700 mb-3\">Statut Santé</h2>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <HealthStatusCard\n            title=\"Vaccins\"\n            status=\"warning\"\n            value=\"1 à jour sur 2\"\n            icon={<ActivityIcon className=\"text-orange-500\" />}\n          />\n          <HealthStatusCard\n            title=\"Poids\"\n            status=\"success\"\n            value=\"25.5 kg\"\n            icon={<ActivityIcon className=\"text-green-500\" />}\n          />\n          <HealthStatusCard\n            title=\"Activité\"\n            status=\"success\"\n            value=\"Excellent\"\n            icon={<ActivityIcon className=\"text-green-500\" />}\n          />\n          <HealthStatusCard\n            title=\"Médication\"\n            status=\"info\"\n            value=\"Aucune\"\n            icon={<ClipboardListIcon className=\"text-blue-500\" />}\n          />\n        </div>\n      </div>\n\n      {/* Pet Profiles */}\n      {token && (\n        <>\n          {showForm && (\n            <PetForm token={token} onSaved={() => setShowForm(false)} onClose={() => setShowForm(false)} />\n          )}\n          <PetProfiles token={token} onAddPet={() => setShowForm(true)} />\n        </>\n      )}\n\n      {/* Modules Grid */}\n      <div>\n        <h2 className=\"text-lg font-semibold text-gray-700 mb-3\">Modules</h2>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <ModuleCard\n            title=\"Santé\"\n            description=\"Carnet de santé, rappels et historique médical\"\n            icon={<HeartPulseIcon size={24} />}\n            color=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2]\"\n            link=\"health\"\n          />\n          <ModuleCard\n            title=\"Nutrition\"\n            description=\"Suivi du poids et recommandations alimentaires\"\n            icon={<UtensilsIcon size={24} />}\n            color=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2]\"\n            link=\"nutrition\"\n          />\n          <ModuleCard\n            title=\"Éducation\"\n            description=\"Programmes de dressage et conseils comportementaux\"\n            icon={<GraduationCapIcon size={24} />}\n            color=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2]\"\n            link=\"education\"\n          />\n          <ModuleCard\n            title=\"Adoption\"\n            description=\"Catalogue d'animaux disponibles à l'adoption\"\n            icon={<HomeIcon size={24} />}\n            color=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2]\"\n            link=\"adoption\"\n          />\n        </div>\n      </div>\n\n      {/* Quick Access Features */}\n      <div>\n        <h2 className=\"text-lg font-semibold text-gray-700 mb-3\">Accès rapide</h2>\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4\">\n          {/* Example quick access buttons */}\n          <button className=\"flex flex-col items-center justify-center p-4 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow\">\n            <div className=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] p-2 rounded-full mb-2\">\n              <CalendarIcon size={20} className=\"text-white\" />\n            </div>\n            <span className=\"text-sm text-gray-700\">Rendez-vous</span>\n          </button>\n          <button className=\"flex flex-col items-center justify-center p-4 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow\">\n            <div className=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] p-2 rounded-full mb-2\">\n              <ClipboardListIcon size={20} className=\"text-white\" />\n            </div>\n            <span className=\"text-sm text-gray-700\">Dossier médical</span>\n          </button>\n          <button className=\"flex flex-col items-center justify-center p-4 bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow\">\n            <div className=\"bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] p-2 rounded-full mb-2\">\n              <BrainIcon size={20} className=\"text-white\" />\n            </div>\n            <span className=\"text-sm text-gray-700\">Diagnostic IA</span>\n          </button>\n          {/* Add more buttons as needed */}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2702, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/health/components/VaccinationTracker.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Vaccination } from '@/types/health';\nimport { CheckCircleIcon, AlertCircleIcon, ClockIcon } from 'lucide-react';\n\ninterface VaccinationTrackerProps {\n    vaccinations: Vaccination[];\n    onDelete?: (id: string) => void;\n}\n\nexport const VaccinationTracker = ({ vaccinations, onDelete }: VaccinationTrackerProps) => {\n    const getStatusIcon = (status: Vaccination['status']) => {\n        switch (status) {\n            case 'up-to-date':\n                return <CheckCircleIcon className=\"text-green-500\" size={20} />;\n            case 'due-soon':\n                return <ClockIcon className=\"text-orange-500\" size={20} />;\n            case 'overdue':\n                return <AlertCircleIcon className=\"text-red-500\" size={20} />;\n        }\n    };\n\n    return (\n        <div className=\"space-y-4\">\n            {vaccinations.map((vaccination) => (\n                <div\n                    key={vaccination.id}\n                    className=\"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200\"\n                >\n                    <div className=\"flex items-center space-x-4\">\n                        {getStatusIcon(vaccination.status)}\n                        <div>\n                            <h3 className=\"font-medium text-gray-900\">{vaccination.name}</h3>\n                            <p className=\"text-sm text-gray-500\">\n                                Dernière dose: {vaccination.date}\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"text-right flex items-center space-x-3\">\n                        <div>\n                            <p className=\"text-sm font-medium text-gray-900\">Prochaine dose</p>\n                            <p className=\"text-sm text-gray-500\">{vaccination.nextDueDate}</p>\n                        </div>\n                        {typeof onDelete === 'function' && (\n                            <button type=\"button\" onClick={() => onDelete(vaccination.id)} className=\"px-2 py-1 text-sm text-red-600 hover:underline\" aria-label={`Supprimer vaccination ${vaccination.id}`}>Supprimer</button>\n                        )}\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAIA;AAAA;AAAA;AAJA;;;AAWO,MAAM,qBAAqB,CAAC,EAAE,YAAY,EAAE,QAAQ,EAA2B;IAClF,MAAM,gBAAgB,CAAC;QACnB,OAAQ;YACJ,KAAK;gBACD,qBAAO,8OAAC,kPAAe;oBAAC,WAAU;oBAAiB,MAAM;;;;;;YAC7D,KAAK;gBACD,qBAAO,8OAAC,qNAAS;oBAAC,WAAU;oBAAkB,MAAM;;;;;;YACxD,KAAK;gBACD,qBAAO,8OAAC,2OAAe;oBAAC,WAAU;oBAAe,MAAM;;;;;;QAC/D;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACV,aAAa,GAAG,CAAC,CAAC,4BACf,8OAAC;gBAEG,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;;4BACV,cAAc,YAAY,MAAM;0CACjC,8OAAC;;kDACG,8OAAC;wCAAG,WAAU;kDAA6B,YAAY,IAAI;;;;;;kDAC3D,8OAAC;wCAAE,WAAU;;4CAAwB;4CACjB,YAAY,IAAI;;;;;;;;;;;;;;;;;;;kCAI5C,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDACG,8OAAC;wCAAE,WAAU;kDAAoC;;;;;;kDACjD,8OAAC;wCAAE,WAAU;kDAAyB,YAAY,WAAW;;;;;;;;;;;;4BAEhE,OAAO,aAAa,4BACjB,8OAAC;gCAAO,MAAK;gCAAS,SAAS,IAAM,SAAS,YAAY,EAAE;gCAAG,WAAU;gCAAiD,cAAY,CAAC,sBAAsB,EAAE,YAAY,EAAE,EAAE;0CAAE;;;;;;;;;;;;;eAlBpL,YAAY,EAAE;;;;;;;;;;AAyBvC","debugId":null}},
    {"offset": {"line": 2847, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/health/components/HealthRecordList.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { HealthRecord } from '@/types/health';\n\ninterface HealthRecordListProps {\n    records: HealthRecord[];\n    onDelete?: (id: string) => void;\n}\n\nexport const HealthRecordList = ({ records, onDelete }: HealthRecordListProps) => {\n    return (\n        <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                    <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                            Date\n                        </th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                            Type\n                        </th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                            Praticien\n                        </th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                            Notes\n                        </th>\n                    </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {records.map((record) => (\n                        <tr key={record.id}>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                                {record.date}\n                            </td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800\">\n                                {record.type}\n                            </td>\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                                {record.practitioner}\n                            </td>\n                            <td className=\"px-6 py-4 text-sm text-gray-500\">{record.notes}</td>\n                            <td className=\"px-4 py-4 whitespace-nowrap text-right text-sm\">\n                                {typeof onDelete === 'function' && (\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => onDelete(record.id)}\n                                        className=\"px-2 py-1 text-sm text-red-600 hover:underline\"\n                                        aria-label={`Supprimer dossier ${record.id}`}\n                                    >\n                                        Supprimer\n                                    </button>\n                                )}\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};"],"names":[],"mappings":";;;;;AAAA;;AAUO,MAAM,mBAAmB,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAyB;IACzE,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAM,WAAU;;8BACb,8OAAC;oBAAM,WAAU;8BACb,cAAA,8OAAC;;0CACG,8OAAC;gCAAG,WAAU;0CAAiF;;;;;;0CAG/F,8OAAC;gCAAG,WAAU;0CAAiF;;;;;;0CAG/F,8OAAC;gCAAG,WAAU;0CAAiF;;;;;;0CAG/F,8OAAC;gCAAG,WAAU;0CAAiF;;;;;;;;;;;;;;;;;8BAKvG,8OAAC;oBAAM,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,uBACV,8OAAC;;8CACG,8OAAC;oCAAG,WAAU;8CACT,OAAO,IAAI;;;;;;8CAEhB,8OAAC;oCAAG,WAAU;8CACT,OAAO,IAAI;;;;;;8CAEhB,8OAAC;oCAAG,WAAU;8CACT,OAAO,YAAY;;;;;;8CAExB,8OAAC;oCAAG,WAAU;8CAAmC,OAAO,KAAK;;;;;;8CAC7D,8OAAC;oCAAG,WAAU;8CACT,OAAO,aAAa,4BACjB,8OAAC;wCACG,MAAK;wCACL,SAAS,IAAM,SAAS,OAAO,EAAE;wCACjC,WAAU;wCACV,cAAY,CAAC,kBAAkB,EAAE,OAAO,EAAE,EAAE;kDAC/C;;;;;;;;;;;;2BAlBJ,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;AA6B1C","debugId":null}},
    {"offset": {"line": 2988, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/health/HealthModule.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport type {\n    PetHealth,\n    HealthRecord,\n    Vaccination,\n    VitalStats,\n} from '@/types/health';\nimport { VaccinationTracker } from './components/VaccinationTracker';\nimport { HealthRecordList } from './components/HealthRecordList';\n\ninterface PetSummary {\n    petId: string;\n    name?: string;\n    species?: string;\n}\n\nexport const HealthModule = () => {\n    const [pets, setPets] = useState<PetSummary[]>([]);\n    const [selectedPetId, setSelectedPetId] = useState<string | null>(null);\n    const [petHealth, setPetHealth] = useState<PetHealth | null>(null);\n    const [loading, setLoading] = useState(false);\n    const [busy, setBusy] = useState(false);\n    const [message, setMessage] = useState<string | null>(null);\n    const [messageType, setMessageType] = useState<'success' | 'error' | null>(null);\n    // form states\n    const [recordNotes, setRecordNotes] = useState('');\n    const [recordType, setRecordType] = useState('Consultation');\n    // appointment UI removed: appointments are handled in the central Rendez-vous module\n    const [vaccName, setVaccName] = useState('');\n    const [vaccDate, setVaccDate] = useState('');\n    const [weight, setWeight] = useState<number | ''>('');\n    // Récupérer le token depuis localStorage comme dans UserProfile.tsx\n    const token = localStorage.getItem('token');\n    const isAuthenticated = !!token;\n    useEffect(() => {\n        // Fetch pets once auth state is known. If user is authenticated, load pets.\n        if (isAuthenticated) {\n            fetchPets();\n        }\n    }, [isAuthenticated]);\n\n    useEffect(() => {\n        if (selectedPetId) fetchPetHealth(selectedPetId);\n        else setPetHealth(null);\n    }, [selectedPetId]);\n\n    async function fetchPets() {\n        try {\n            // Use central pets API provided by the 'mes animaux' module\n            if (!token) {\n                setMessage('Veuillez vous connecter pour voir vos animaux');\n                setMessageType('error');\n                return;\n            }\n            const headers: Record<string, string> = { 'Content-Type': 'application/json' };\n            if (token) headers['Authorization'] = `Bearer ${token}`;\n            const res = await fetch('/api/pets', { headers });\n            if (!res.ok) throw new Error('Failed to load pets');\n            const body = await res.json();\n            // central API returns { pets: [...] }\n            const list: PetSummary[] = (body?.pets || []).map((p: any) => ({\n                petId: p._id || p.id || p.petId,\n                name: p.name,\n                species: p.type || p.species || p.breed,\n            }));\n            setPets(list);\n            if (list.length && !selectedPetId) setSelectedPetId(list[0].petId);\n        } catch (err) {\n            console.error(err);\n            setMessage('Impossible de charger la liste des animaux');\n            setMessageType('error');\n        }\n    }\n\n    async function fetchPetHealth(petId: string) {\n        setLoading(true);\n        try {\n            const headers: Record<string, string> = { 'Content-Type': 'application/json' };\n            if (token) headers['Authorization'] = `Bearer ${token}`;\n            const res = await fetch(`/api/health/${petId}`, { headers });\n            if (!res.ok) throw new Error('Failed to load pet');\n            const data: PetHealth = await res.json();\n            setPetHealth(data);\n            setWeight(data.vitalStats?.weight ?? '');\n        } catch (err) {\n            console.error(err);\n            setMessage('Impossible de charger les informations de santé');\n            setMessageType('error');\n        } finally {\n            setLoading(false);\n        }\n    }\n\n\n\n    async function addRecord() {\n        if (!selectedPetId) return;\n        const payload = {\n            action: 'addRecord',\n            payload: {\n                date: new Date().toISOString().split('T')[0],\n                type: recordType,\n                practitioner: '',\n                notes: recordNotes,\n            },\n        };\n        setBusy(true);\n        const headers: Record<string, string> = { 'Content-Type': 'application/json' };\n        if (token) headers['Authorization'] = `Bearer ${token}`;\n        const res = await fetch(`/api/health/${selectedPetId}`, {\n            method: 'POST',\n            headers,\n            body: JSON.stringify(payload),\n        });\n        if (!res.ok) {\n            const err = await res.json().catch(() => ({}));\n            setMessage(err?.error || 'Échec lors de l\\'ajout du dossier');\n            setMessageType('error');\n            setBusy(false);\n            return;\n        }\n        const added: HealthRecord = await res.json();\n        setPetHealth((prev: PetHealth | null) =>\n            prev ? { ...prev, healthRecords: [added, ...(prev.healthRecords || [])] } : prev\n        );\n        setRecordNotes('');\n        setMessage('Dossier ajouté');\n        setMessageType('success');\n        setBusy(false);\n    }\n\n    // appointment creation removed from Health module — handled by the Appointments module\n\n    async function addVaccination() {\n        if (!selectedPetId) return;\n        const payload = {\n            action: 'addVaccination',\n            payload: {\n                name: vaccName,\n                date: vaccDate,\n                nextDueDate: '',\n                status: 'up-to-date',\n            },\n        };\n        setBusy(true);\n        const headers: Record<string, string> = { 'Content-Type': 'application/json' };\n        if (token) headers['Authorization'] = `Bearer ${token}`;\n        const res = await fetch(`/api/health/${selectedPetId}`, {\n            method: 'POST',\n            headers,\n            body: JSON.stringify(payload),\n        });\n        if (!res.ok) {\n            const err = await res.json().catch(() => ({}));\n            setMessage(err?.error || 'Échec lors de l\\'ajout de la vaccination');\n            setMessageType('error');\n            setBusy(false);\n            return;\n        }\n        const added: Vaccination = await res.json();\n        setPetHealth((prev: PetHealth | null) =>\n            prev ? { ...prev, vaccinations: [added, ...(prev.vaccinations || [])] } : prev\n        );\n        setVaccName('');\n        setVaccDate('');\n        setMessage('Vaccination ajoutée');\n        setMessageType('success');\n        setBusy(false);\n    }\n\n    async function updateWeight() {\n        if (!selectedPetId) return;\n        const payload = {\n            action: 'updateVital',\n            payload: { weight: weight === '' ? undefined : Number(weight), lastWeightDate: new Date().toISOString().split('T')[0] },\n        };\n        setBusy(true);\n        const res = await fetch(`/api/health/${selectedPetId}`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(payload),\n        });\n        if (!res.ok) {\n            const err = await res.json().catch(() => ({}));\n            setMessage(err?.error || 'Échec lors de la mise à jour du poids');\n            setMessageType('error');\n            setBusy(false);\n            return;\n        }\n        const updated = await res.json();\n        setPetHealth((prev: PetHealth | null) => (prev ? { ...prev, vitalStats: updated } : prev));\n        setMessage('Poids mis à jour');\n        setMessageType('success');\n        setBusy(false);\n    }\n\n    // delete handlers\n    async function handleDeleteRecord(id: string) {\n        if (!selectedPetId) return;\n        if (!confirm('Confirmer la suppression du dossier ?')) return;\n        setBusy(true);\n        try {\n            const headers: Record<string, string> = { 'Content-Type': 'application/json' };\n            if (token) headers['Authorization'] = `Bearer ${token}`;\n            const res = await fetch(`/api/health/${selectedPetId}`, {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({ action: 'deleteRecord', payload: { id } }),\n            });\n            if (!res.ok) {\n                const err = await res.json().catch(() => ({}));\n                setMessage(err?.error || 'Échec lors de la suppression du dossier');\n                setMessageType('error');\n                return;\n            }\n            const deleted = await res.json();\n            setPetHealth((prev) => prev ? { ...prev, healthRecords: (prev.healthRecords || []).filter((r) => r.id !== deleted.id) } : prev);\n            setMessage('Dossier supprimé');\n            setMessageType('success');\n        } catch (err) {\n            console.error('deleteRecord failed', err);\n            setMessage('Erreur lors de la suppression');\n            setMessageType('error');\n        } finally {\n            setBusy(false);\n        }\n    }\n\n    // appointment deletion removed from Health module — use the central appointments module\n\n    async function handleDeleteVaccination(id: string) {\n        if (!selectedPetId) return;\n        if (!confirm('Confirmer la suppression de la vaccination ?')) return;\n        setBusy(true);\n        try {\n            const headers: Record<string, string> = { 'Content-Type': 'application/json' };\n            if (token) headers['Authorization'] = `Bearer ${token}`;\n            const res = await fetch(`/api/health/${selectedPetId}`, {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({ action: 'deleteVaccination', payload: { id } }),\n            });\n            if (!res.ok) {\n                const err = await res.json().catch(() => ({}));\n                setMessage(err?.error || 'Échec lors de la suppression de la vaccination');\n                setMessageType('error');\n                return;\n            }\n            const deleted = await res.json();\n            setPetHealth((prev) => prev ? { ...prev, vaccinations: (prev.vaccinations || []).filter((v) => v.id !== deleted.id) } : prev);\n            setMessage('Vaccination supprimée');\n            setMessageType('success');\n        } catch (err) {\n            console.error('deleteVaccination failed', err);\n            setMessage('Erreur lors de la suppression');\n            setMessageType('error');\n        } finally {\n            setBusy(false);\n        }\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n                <h1 className=\"text-2xl font-bold text-gray-800\">Module Santé</h1>\n                <p className=\"text-sm text-gray-500\">Gérer dossiers de santé, vaccinations et rendez-vous</p>\n            </div>\n\n            <div className=\"flex items-center space-x-4\">\n                <label className=\"text-sm text-gray-600\">Sélectionner animal:</label>\n                <select\n                    value={selectedPetId ?? ''}\n                    onChange={(e) => setSelectedPetId(e.target.value || null)}\n                    className=\"px-3 py-2 border rounded\"\n                >\n                    <option value=\"\">-- Choisir --</option>\n                    {pets.map((p: PetSummary) => (\n                        <option key={p.petId} value={p.petId}>\n                            {p.name || p.petId} {p.species ? `(${p.species})` : ''}\n                        </option>\n                    ))}\n                </select>\n                {/* Refresh button removed per request - pets are managed in the Pets module */}\n            </div>\n\n            {loading && <div>Chargement...</div>}\n            {message && (\n                <div className={`p-2 rounded ${messageType === 'error' ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`}>\n                    {message}\n                </div>\n            )}\n\n            {!petHealth && !loading && <div className=\"text-gray-500\">Aucun animal sélectionné</div>}\n\n            {petHealth && (\n                <div className=\"space-y-4\">\n                    <div className=\"bg-white p-4 rounded-xl border border-gray-200\">\n                        <div className=\"flex items-center justify-between\">\n                            <div>\n                                <h2 className=\"text-lg font-semibold text-gray-800\">{petHealth.name || 'Animal'}</h2>\n                                <p className=\"text-sm text-gray-500\">{petHealth.species}</p>\n                            </div>\n                            <div>\n                                <p className=\"text-sm text-gray-600\">Dernier bilan: {petHealth.vitalStats?.lastCheckup || '—'}</p>\n                            </div>\n                        </div>\n\n                        <div className=\"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                            <div className=\"p-4 bg-gray-50 rounded\">\n                                <p className=\"text-sm text-gray-600\">Poids</p>\n                                <div className=\"flex items-center space-x-2 mt-2\">\n                                    <input\n                                        type=\"number\"\n                                        value={weight}\n                                        onChange={(e) => setWeight(e.target.value === '' ? '' : Number(e.target.value))}\n                                        placeholder=\"kg\"\n                                        className=\"px-2 py-1 border rounded w-24\"\n                                    />\n                                    <button onClick={updateWeight} className=\"px-3 py-1 bg-[#FFB8C2] text-white rounded\">Mettre à jour</button>\n                                </div>\n                                <p className=\"text-xs text-gray-500 mt-2\">Dernière mesure: {petHealth.vitalStats?.lastWeightDate || '—'}</p>\n                            </div>\n\n                            <div className=\"p-4 bg-gray-50 rounded\">\n                                <p className=\"text-sm text-gray-600\">Vaccinations</p>\n                                <p className=\"text-lg font-semibold text-gray-800\">{(petHealth.vaccinations || []).length}</p>\n                            </div>\n                        </div>\n\n                        {/* Detailed lists: vaccinations and appointments with delete support */}\n                        <div className=\"grid grid-cols-1 gap-4 mt-4\">\n                            <div className=\"bg-white p-4 rounded-xl border\">\n                                <h3 className=\"font-medium text-gray-700 mb-2\">Vaccinations</h3>\n                                <VaccinationTracker vaccinations={petHealth.vaccinations || []} onDelete={handleDeleteVaccination} />\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Add quick items */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div className=\"bg-white p-4 rounded-xl border\">\n                            <h3 className=\"font-medium text-gray-700 mb-2\">Ajouter dossier</h3>\n                            <select value={recordType} onChange={(e) => setRecordType(e.target.value)} className=\"mb-2 px-2 py-1 border rounded w-full\">\n                                <option>Consultation</option>\n                                <option>Vaccination</option>\n                                <option>Traitement</option>\n                                <option>Note</option>\n                            </select>\n                            <textarea value={recordNotes} onChange={(e) => setRecordNotes(e.target.value)} rows={3} className=\"w-full px-2 py-1 border rounded mb-2\" placeholder=\"Notes...\" />\n                            <button onClick={addRecord} className=\"px-3 py-2 bg-[#FFB8C2] text-white rounded\">Ajouter</button>\n                        </div>\n\n                        {/* appointment creation removed from Health module */}\n\n                        <div className=\"bg-white p-4 rounded-xl border\">\n                            <h3 className=\"font-medium text-gray-700 mb-2\">Ajouter vaccination</h3>\n                            <input value={vaccName} onChange={(e) => setVaccName(e.target.value)} placeholder=\"Nom vaccination\" className=\"mb-2 px-2 py-1 border rounded w-full\" />\n                            <input type=\"date\" value={vaccDate} onChange={(e) => setVaccDate(e.target.value)} className=\"mb-2 px-2 py-1 border rounded w-full\" />\n                            <button onClick={addVaccination} className=\"px-3 py-2 bg-[#FFB8C2] text-white rounded\">Ajouter</button>\n                        </div>\n                    </div>\n\n                    {/* Records table */}\n                    <div className=\"bg-white p-6 rounded-xl border\">\n                        <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">Dossier médical récent</h2>\n                        <HealthRecordList records={petHealth.healthRecords || []} onDelete={handleDeleteRecord} />\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3742, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/nutrition/components/NutritionChart.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    Title,\n    Tooltip,\n    Legend,\n} from 'chart.js';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\ninterface WeightLog {\n    date: string;\n    weight: number;\n}\n\ninterface NutritionChartProps {\n    weights: WeightLog[];\n}\n\nexport const NutritionChart = ({ weights }: NutritionChartProps) => {\n    const labels = weights.map((w) => new Date(w.date).toLocaleDateString());\n    const data = {\n        labels,\n        datasets: [\n            {\n                label: 'Poids (kg)',\n                data: weights.map((w) => w.weight),\n                borderColor: '#FFB8C2',\n                backgroundColor: 'rgba(245, 245, 220, 0.4)',\n                tension: 0.3,\n                fill: true,\n                pointRadius: 4,\n            },\n        ],\n    };\n\n    const options = {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: { legend: { position: 'top' as const } },\n        scales: {\n            y: { beginAtZero: false },\n        },\n    };\n\n    return <Line data={data} options={options} />;\n};"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAcA,qKAAO,CAAC,QAAQ,CAAC,6KAAa,EAAE,2KAAW,EAAE,4KAAY,EAAE,2KAAW,EAAE,qKAAK,EAAE,uKAAO,EAAE,sKAAM;AAWvF,MAAM,iBAAiB,CAAC,EAAE,OAAO,EAAuB;IAC3D,MAAM,SAAS,QAAQ,GAAG,CAAC,CAAC,IAAM,IAAI,KAAK,EAAE,IAAI,EAAE,kBAAkB;IACrE,MAAM,OAAO;QACT;QACA,UAAU;YACN;gBACI,OAAO;gBACP,MAAM,QAAQ,GAAG,CAAC,CAAC,IAAM,EAAE,MAAM;gBACjC,aAAa;gBACb,iBAAiB;gBACjB,SAAS;gBACT,MAAM;gBACN,aAAa;YACjB;SACH;IACL;IAEA,MAAM,UAAU;QACZ,YAAY;QACZ,qBAAqB;QACrB,SAAS;YAAE,QAAQ;gBAAE,UAAU;YAAe;QAAE;QAChD,QAAQ;YACJ,GAAG;gBAAE,aAAa;YAAM;QAC5B;IACJ;IAEA,qBAAO,8OAAC,8JAAI;QAAC,MAAM;QAAM,SAAS;;;;;;AACtC","debugId":null}},
    {"offset": {"line": 3797, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/nutrition/NutritionModule.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { UtensilsIcon, ScaleIcon, ClipboardIcon, Trash2Icon } from 'lucide-react';\nimport { NutritionChart } from './components/NutritionChart';\n\ninterface Pet {\n    _id: string;\n    name: string;\n    type: string;\n    breed: string;\n    age?: number;\n    weight?: number;\n    image?: string;\n    currentDiet?: { name: string; description: string; amount: string }[];\n}\n\ninterface WeightEntry {\n    _id: string;\n    weight: number;\n    date: string;\n}\n\ninterface NutritionModuleProps {\n    token: string;\n}\n\nexport const NutritionModule = ({ token }: NutritionModuleProps) => {\n    const [pets, setPets] = useState<Pet[]>([]);\n    const [selectedPetId, setSelectedPetId] = useState<string | undefined>(undefined);\n    const [loading, setLoading] = useState(true);\n    const [weights, setWeights] = useState<WeightEntry[]>([]);\n\n    // Ration calculator state\n    const [weight, setWeight] = useState<number | ''>('');\n    const [age, setAge] = useState<number | ''>('');\n    const [activityLevel, setActivityLevel] = useState<string>('Sédentaire');\n    const [foodType, setFoodType] = useState<string>('Croquettes sèches');\n    const [recommendedRation, setRecommendedRation] = useState<string>('');\n\n    // Fetch all pets\n    const fetchPets = async () => {\n        if (!token) return;\n        try {\n            const res = await fetch('/api/pets', {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n            const data = await res.json();\n            if (res.ok) {\n                setPets(data.pets);\n                if (data.pets.length > 0) setSelectedPetId(data.pets[0]._id);\n            } else setPets([]);\n        } catch {\n            setPets([]);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Fetch weights for selected pet\n    const fetchWeights = async (petId: string) => {\n        if (!token) return;\n        try {\n            const res = await fetch(`/api/pets/${petId}/weights`, {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n            const data = await res.json();\n            if (res.ok) setWeights(data.weights);\n            else setWeights([]);\n        } catch {\n            setWeights([]);\n        }\n    };\n\n    useEffect(() => {\n        fetchPets();\n    }, [token]);\n\n    useEffect(() => {\n        if (selectedPetId) fetchWeights(selectedPetId);\n    }, [selectedPetId, token]);\n\n    const selectedPet = pets.find((p) => p._id === selectedPetId);\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen\">\n                <p className=\"text-gray-500 text-lg\">Chargement des animaux...</p>\n            </div>\n        );\n    }\n\n    if (!selectedPet) {\n        return <p className=\"text-gray-500\">Vous n'avez aucun animal enregistré.</p>;\n    }\n\n    // Add new weight\n    const handleAddWeight = async () => {\n        if (!weight || isNaN(Number(weight))) {\n            alert('Veuillez entrer un poids valide !');\n            return;\n        }\n\n        try {\n            const res = await fetch(`/api/pets/${selectedPet._id}/weights`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${token}`,\n                },\n                body: JSON.stringify({ weight: Number(weight) }),\n            });\n\n            const data = await res.json();\n            if (res.ok) {\n                alert('✅ Mesure ajoutée avec succès !');\n                setWeight(''); // reset input\n                fetchWeights(selectedPet._id); // refresh weights + chart\n            } else {\n                alert(`Erreur: ${data.error}`);\n            }\n        } catch {\n            alert('Erreur lors de l’ajout de la mesure.');\n        }\n    };\n\n    // Delete a weight\n    const handleDeleteWeight = async (weightId: string) => {\n        if (!token) return;\n        if (!confirm('Voulez-vous vraiment supprimer cette mesure ?')) return;\n\n        try {\n            const res = await fetch(`/api/pets/${selectedPet._id}/weights`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${token}`,\n                },\n                body: JSON.stringify({ weightId }),\n            });\n            const data = await res.json();\n            if (res.ok) {\n                alert('Mesure supprimée avec succès !');\n                fetchWeights(selectedPet._id);\n            } else {\n                alert(`Erreur: ${data.error}`);\n            }\n        } catch {\n            alert('Erreur lors de la suppression de la mesure.');\n        }\n    };\n\n    // Simple ration calculation\n    const calculateRation = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!weight || !age) return;\n\n        let factor = 1;\n        switch (activityLevel) {\n            case 'Sédentaire':\n                factor = 0.8;\n                break;\n            case 'Modéré':\n                factor = 1;\n                break;\n            case 'Actif':\n                factor = 1.2;\n                break;\n            case 'Très actif':\n                factor = 1.4;\n                break;\n        }\n\n        const ration = (weight as number) * factor * 10;\n        setRecommendedRation(`${ration.toFixed(0)} g/jour (${foodType})`);\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-2xl font-bold text-gray-800\">Module Nutrition</h1>\n\n            {/* Pet selector */}\n            <div className=\"mb-6\">\n                <label className=\"block text-gray-700 font-medium mb-2\">Choisir un animal :</label>\n                <select\n                    value={selectedPetId || ''}\n                    onChange={(e) => setSelectedPetId(e.target.value)}\n                    className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n                >\n                    {pets.map((pet) => (\n                        <option key={pet._id} value={pet._id}>\n                            {pet.name} ({pet.breed})\n                        </option>\n                    ))}\n                </select>\n            </div>\n\n            {/* Weight chart */}\n            <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n                <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">\n                    Évolution du poids de {selectedPet.name}\n                </h2>\n                <div className=\"h-64 w-full\">\n                    <NutritionChart weights={weights} />\n                </div>\n            </div>\n\n            {/* Features grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                {/* Suivi du poids */}\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow\">\n                    <div className=\"flex items-center mb-4\">\n                        <div className=\"p-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full mr-3\">\n                            <ScaleIcon size={24} className=\"text-white\" />\n                        </div>\n                        <h3 className=\"text-lg font-semibold text-gray-800\">Suivi du poids</h3>\n                    </div>\n                    <p className=\"text-gray-600 mb-4\">\n                        Enregistrez et suivez l'évolution du poids de {selectedPet.name}.\n                    </p>\n\n                    {/* Input + Button */}\n                    <div className=\"mb-4\">\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                            Nouveau poids (kg)\n                        </label>\n                        <input\n                            type=\"number\"\n                            className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n                            value={weight}\n                            onChange={(e) => setWeight(Number(e.target.value))}\n                            placeholder={`Poids de ${selectedPet.name}`}\n                        />\n                        <button\n                            onClick={handleAddWeight}\n                            className=\"mt-3 w-full bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] text-white px-4 py-2 rounded-lg hover:from-[#FFB8C2] hover:to-[#F5F5DC] transition-all\"\n                        >\n                            ➕ Ajouter une mesure\n                        </button>\n                    </div>\n\n                    {/* List of weights */}\n                    <div className=\"mt-4 space-y-1\">\n                        {weights.length === 0 && <p className=\"text-gray-500\">Aucune mesure enregistrée.</p>}\n                        {weights.map((w) => (\n                            <div key={w._id} className=\"flex justify-between items-center border-b py-1\">\n                                <span className=\"text-gray-500\">\n                                    {new Date(w.date).toLocaleDateString()}: {w.weight} kg\n                                </span>\n                                <button\n                                    onClick={() => handleDeleteWeight(w._id)}\n                                    className=\"text-red-500 hover:text-red-700 p-1 rounded\"\n                                    title=\"Supprimer la mesure\"\n                                >\n                                    <Trash2Icon size={16} />\n                                </button>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                {/* Recommandations */}\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow\">\n                    <div className=\"flex items-center mb-4\">\n                        <div className=\"p-2 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full mr-3\">\n                            <ClipboardIcon size={24} className=\"text-white\" />\n                        </div>\n                        <h3 className=\"text-lg font-semibold text-gray-800\">Recommandations</h3>\n                    </div>\n                    <p className=\"text-gray-600 mb-4\">\n                        Recevez des conseils nutritionnels personnalisés pour {selectedPet.name}.\n                    </p>\n                    <button className=\"text-[#FFB8C2] font-medium hover:underline\">Consulter</button>\n                </div>\n            </div>\n\n            {/* Ration calculator */}\n            <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n                <h2 className=\"text-lg font-semibold text-gray-800 mb-4\">Calculateur de rations</h2>\n                <form className=\"space-y-4\" onSubmit={calculateRation}>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                Poids actuel (kg)\n                            </label>\n                            <input\n                                type=\"number\"\n                                className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n                                value={weight}\n                                onChange={(e) => setWeight(Number(e.target.value))}\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Âge</label>\n                            <input\n                                type=\"number\"\n                                className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n                                value={age}\n                                onChange={(e) => setAge(Number(e.target.value))}\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                Niveau d'activité\n                            </label>\n                            <select\n                                className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n                                value={activityLevel}\n                                onChange={(e) => setActivityLevel(e.target.value)}\n                            >\n                                <option>Sédentaire</option>\n                                <option>Modéré</option>\n                                <option>Actif</option>\n                                <option>Très actif</option>\n                            </select>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                Type d'alimentation\n                            </label>\n                            <select\n                                className=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFB8C2]\"\n                                value={foodType}\n                                onChange={(e) => setFoodType(e.target.value)}\n                            >\n                                <option>Croquettes sèches</option>\n                                <option>Nourriture humide</option>\n                                <option>Alimentation mixte</option>\n                                <option>BARF / Raw feeding</option>\n                            </select>\n                        </div>\n                    </div>\n                    <button\n                        type=\"submit\"\n                        className=\"mt-4 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] text-white px-4 py-2 rounded-lg hover:from-[#FFB8C2] hover:to-[#F5F5DC]\"\n                    >\n                        Calculer la ration\n                    </button>\n                </form>\n                {recommendedRation && (\n                    <p className=\"mt-3 text-gray-700 font-medium\">\n                        Ration recommandée: {recommendedRation}\n                    </p>\n                )}\n            </div>\n        </div>\n    );\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4503, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/home/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Header } from './components/Header';\nimport { Sidebar } from './components/Sidebar';\nimport { Dashboard } from './components/Dashboard';\nimport { HealthModule } from '../health/HealthModule';\nimport { NutritionModule } from '../nutrition/NutritionModule';\nimport { EducationModule } from '../education/EducationModule';\nimport { AdoptionModule } from '../adoption/AdoptionModule';\nimport { UserPets } from '../pets/UserPets';\nimport { UserAppointments } from '../appointments/UserAppointments';\nimport { UserNotifications } from '../notifications/UserNotifications';\nimport { UserProfile } from '../profile/UserProfile';\nimport { UserSettings } from '../settings/UserSettings';\n\nexport default function HomePage() {\n  const router = useRouter();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [activeModule, setActiveModule] = useState('dashboard');\n  const [userToken, setUserToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check for token in localStorage\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      setUserToken(token); // store token in state\n      setLoading(false);\n    } else {\n      // No token → redirect to login\n      router.replace('/auth/login');\n    }\n  }, [router]);\n\n  const toggleSidebar = () => setIsSidebarOpen(!isSidebarOpen);\n\n  // Show loader while checking authentication\n  if (loading) return (\n    <div className=\"flex items-center justify-center min-h-screen\">\n      <p className=\"text-gray-500 text-lg\">Loading...</p>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Sidebar */}\n      <Sidebar\n        activeModule={activeModule}\n        setActiveModule={setActiveModule}\n        isOpen={isSidebarOpen}\n        setIsOpen={setIsSidebarOpen}\n      />\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Header */}\n        <Header toggleSidebarAction={toggleSidebar} setActiveModuleAction={setActiveModule} />\n        {/* Modules */}\n        <main className=\"flex-1 p-6 overflow-y-auto\">\n          <div className=\"container mx-auto px-4\">\n            {activeModule === 'dashboard' && <Dashboard />}\n            {activeModule === 'health' && <HealthModule />}\n            {activeModule === 'nutrition' && userToken && (\n              <NutritionModule token={userToken} />\n            )}\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAiBe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgB;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,kCAAkC;QAClC,MAAM,QAAQ,aAAa,OAAO,CAAC;QAEnC,IAAI,OAAO;YACT,aAAa,QAAQ,uBAAuB;YAC5C,WAAW;QACb,OAAO;YACL,+BAA+B;YAC/B,OAAO,OAAO,CAAC;QACjB;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,gBAAgB,IAAM,iBAAiB,CAAC;IAE9C,4CAA4C;IAC5C,IAAI,SAAS,qBACX,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAE,WAAU;sBAAwB;;;;;;;;;;;IAIzC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,gJAAO;gBACN,cAAc;gBACd,iBAAiB;gBACjB,QAAQ;gBACR,WAAW;;;;;;0BAIb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,8IAAM;wBAAC,qBAAqB;wBAAe,uBAAuB;;;;;;kCAEnE,8OAAC;wBAAK,WAAU;kCACd,cAAA,8OAAC;4BAAI,WAAU;;gCACZ,iBAAiB,6BAAe,8OAAC,oJAAS;;;;;gCAC1C,iBAAiB,0BAAY,8OAAC,8IAAY;;;;;gCAC1C,iBAAiB,eAAe,2BAC/B,8OAAC,uJAAe;oCAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtC","debugId":null}}]
}