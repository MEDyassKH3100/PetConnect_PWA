{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/app/components/ServiceWorkerRegistration.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\n\nexport default function ServiceWorkerRegistration() {\n    useEffect(() => {\n        if (typeof window !== 'undefined' && 'serviceWorker' in navigator) {\n            navigator.serviceWorker.register('/service-worker.js')\n                .then((registration) => {\n                    console.log('Service Worker registered successfully:', registration);\n                })\n                .catch((error) => {\n                    console.error('Service Worker registration failed:', error);\n                });\n        }\n    }, []);\n\n    return null; // Ce composant n'affiche rien, il ne fait qu'enregistrer le SW\n}"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIe,SAAS;;IACpB,IAAA,0KAAS;+CAAC;YACN,IAAI,+CAAkB,eAAe,mBAAmB,WAAW;gBAC/D,UAAU,aAAa,CAAC,QAAQ,CAAC,sBAC5B,IAAI;2DAAC,CAAC;wBACH,QAAQ,GAAG,CAAC,2CAA2C;oBAC3D;0DACC,KAAK;2DAAC,CAAC;wBACJ,QAAQ,KAAK,CAAC,uCAAuC;oBACzD;;YACR;QACJ;8CAAG,EAAE;IAEL,OAAO,MAAM,+DAA+D;AAChF;GAdwB;KAAA","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/lib/api-client.ts"],"sourcesContent":["import axios, { AxiosInstance, InternalAxiosRequestConfig } from \"axios\";\n\n// Créer une instance Axios configurée\nconst apiClient: AxiosInstance = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\",\n  timeout: 10000,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Intercepteur pour ajouter le token à chaque requête\napiClient.interceptors.request.use(\n  (config: InternalAxiosRequestConfig) => {\n    if (typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"token\");\n      if (token && config.headers) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Intercepteur pour gérer les erreurs de réponse\napiClient.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n\n    // Si erreur 401 et pas déjà tenté de refresh\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      try {\n        const refreshToken = localStorage.getItem(\"refreshToken\");\n        if (refreshToken) {\n          const response = await axios.post(\"/api/auth/refresh\", {\n            refreshToken,\n          });\n\n          const { token } = response.data;\n          localStorage.setItem(\"token\", token);\n\n          // Réessayer la requête originale avec le nouveau token\n          originalRequest.headers.Authorization = `Bearer ${token}`;\n          return apiClient(originalRequest);\n        }\n      } catch (refreshError) {\n        // Si le refresh échoue, déconnecter l'utilisateur\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n        localStorage.removeItem(\"user\");\n        window.location.href = \"/\";\n        return Promise.reject(refreshError);\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport { apiClient };\n"],"names":[],"mappings":";;;;AAIW;AAJX;;AAEA,sCAAsC;AACtC,MAAM,YAA2B,mJAAK,CAAC,MAAM,CAAC;IAC5C,SAAS,6DAAmC;IAC5C,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,sDAAsD;AACtD,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,SAAS,OAAO,OAAO,EAAE;YAC3B,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,iDAAiD;AACjD,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,6CAA6C;IAC7C,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,gBAAgB,MAAM,GAAG;QAEzB,IAAI;YACF,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,cAAc;gBAChB,MAAM,WAAW,MAAM,mJAAK,CAAC,IAAI,CAAC,qBAAqB;oBACrD;gBACF;gBAEA,MAAM,EAAE,KAAK,EAAE,GAAG,SAAS,IAAI;gBAC/B,aAAa,OAAO,CAAC,SAAS;gBAE9B,uDAAuD;gBACvD,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;gBACzD,OAAO,UAAU;YACnB;QACF,EAAE,OAAO,cAAc;YACrB,kDAAkD;YAClD,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,OAAO,QAAQ,MAAM,CAAC;QACxB;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/store/slices/authSlice.ts"],"sourcesContent":["import { apiClient } from \"@/lib/api-client\";\nimport { User } from \"@/types/user\";\nimport { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  refreshToken: string | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  error: string | null;\n}\n\nconst initialState: AuthState = {\n  user: null,\n  token: null,\n  refreshToken: null,\n  isLoading: false,\n  isAuthenticated: false,\n  error: null,\n};\n\n// Thunk pour la connexion\nexport const loginUser = createAsyncThunk(\n  \"auth/login\",\n  async (\n    credentials: { email: string; password: string },\n    { rejectWithValue }\n  ) => {\n    try {\n      const response = await apiClient.post(\"/api/auth/login\", credentials);\n      return response.data;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur de connexion\"\n      );\n    }\n  }\n);\n\n// Thunk pour l'inscription\nexport const registerUser = createAsyncThunk(\n  \"auth/register\",\n  async (\n    userData: {\n      firstName: string;\n      lastName: string;\n      email: string;\n      password: string;\n    },\n    { rejectWithValue }\n  ) => {\n    try {\n      const response = await apiClient.post(\"/api/auth/register\", userData);\n      return response.data;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur d'inscription\"\n      );\n    }\n  }\n);\n\n// Thunk pour récupérer le profil\nexport const fetchUserProfile = createAsyncThunk(\n  \"auth/fetchProfile\",\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await apiClient.get(\"/api/profile\");\n      return response.data.user;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur de récupération du profil\"\n      );\n    }\n  }\n);\n\n// Thunk pour mettre à jour le profil\nexport const updateUserProfile = createAsyncThunk(\n  \"auth/updateProfile\",\n  async (userData: Partial<User>, { rejectWithValue }) => {\n    try {\n      const response = await apiClient.put(\"/api/profile\", userData);\n      return response.data.user;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur de mise à jour du profil\"\n      );\n    }\n  }\n);\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    logout: (state) => {\n      state.user = null;\n      state.token = null;\n      state.refreshToken = null;\n      state.isAuthenticated = false;\n      state.error = null;\n\n      // Nettoyer le localStorage\n      if (typeof window !== \"undefined\") {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"refreshToken\");\n        localStorage.removeItem(\"user\");\n      }\n    },\n    setCredentials: (\n      state,\n      action: PayloadAction<{ user: User; token: string; refreshToken: string }>\n    ) => {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.refreshToken = action.payload.refreshToken;\n      state.isAuthenticated = true;\n      state.error = null;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    // Initialiser depuis localStorage au démarrage\n    initializeAuth: (state) => {\n      if (typeof window !== \"undefined\") {\n        const token = localStorage.getItem(\"token\");\n        const refreshToken = localStorage.getItem(\"refreshToken\");\n        const userStr = localStorage.getItem(\"user\");\n\n        if (token && userStr) {\n          try {\n            const user = JSON.parse(userStr);\n            state.user = user;\n            state.token = token;\n            state.refreshToken = refreshToken;\n            state.isAuthenticated = true;\n          } catch (error) {\n            // Si erreur de parsing, nettoyer\n            localStorage.removeItem(\"token\");\n            localStorage.removeItem(\"refreshToken\");\n            localStorage.removeItem(\"user\");\n          }\n        }\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    // Login\n    builder\n      .addCase(loginUser.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(loginUser.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.refreshToken = action.payload.refreshToken;\n        state.isAuthenticated = true;\n\n        // Sauvegarder dans localStorage\n        if (typeof window !== \"undefined\") {\n          localStorage.setItem(\"token\", action.payload.token);\n          localStorage.setItem(\"refreshToken\", action.payload.refreshToken);\n          localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n        }\n      })\n      .addCase(loginUser.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Register\n    builder\n      .addCase(registerUser.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(registerUser.fulfilled, (state, action) => {\n        state.isLoading = false;\n        // Après inscription, on peut soit connecter automatiquement, soit demander login\n        // Ici on suppose que l'API retourne aussi un token après inscription\n        if (action.payload.token) {\n          state.user = action.payload.user;\n          state.token = action.payload.token;\n          state.refreshToken = action.payload.refreshToken;\n          state.isAuthenticated = true;\n\n          if (typeof window !== \"undefined\") {\n            localStorage.setItem(\"token\", action.payload.token);\n            localStorage.setItem(\"refreshToken\", action.payload.refreshToken);\n            localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n          }\n        }\n      })\n      .addCase(registerUser.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch Profile\n    builder\n      .addCase(fetchUserProfile.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(fetchUserProfile.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload;\n        if (typeof window !== \"undefined\") {\n          localStorage.setItem(\"user\", JSON.stringify(action.payload));\n        }\n      })\n      .addCase(fetchUserProfile.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Profile\n    builder\n      .addCase(updateUserProfile.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(updateUserProfile.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload;\n        if (typeof window !== \"undefined\") {\n          localStorage.setItem(\"user\", JSON.stringify(action.payload));\n        }\n      })\n      .addCase(updateUserProfile.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { logout, setCredentials, clearError, initializeAuth } =\n  authSlice.actions;\nexport default authSlice.reducer;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/store/slices/petsSlice.ts"],"sourcesContent":["import { apiClient } from \"@/lib/api-client\";\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { Pet } from \"@/types/pet\";\n\ninterface PetsState {\n  pets: Pet[];\n  selectedPet: Pet | null;\n  isLoading: boolean;\n  error: string | null;\n}\n\nconst initialState: PetsState = {\n  pets: [],\n  selectedPet: null,\n  isLoading: false,\n  error: null,\n};\n\n// Thunks\nexport const fetchPets = createAsyncThunk(\n  \"pets/fetchAll\",\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await apiClient.get(\"/api/pets\");\n      return response.data.pets;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur de récupération des animaux\"\n      );\n    }\n  }\n);\n\nexport const addPet = createAsyncThunk(\n  \"pets/add\",\n  async (petData: Omit<Pet, \"_id\" | \"owner\">, { rejectWithValue }) => {\n    try {\n      const response = await apiClient.post(\"/api/pets\", petData);\n      return response.data.pet;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur d'ajout de l'animal\"\n      );\n    }\n  }\n);\n\nexport const updatePet = createAsyncThunk(\n  \"pets/update\",\n  async (petData: Partial<Pet> & { id: string }, { rejectWithValue }) => {\n    try {\n      const response = await apiClient.patch(\"/api/pets\", petData);\n      return response.data.pet;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur de mise à jour de l'animal\"\n      );\n    }\n  }\n);\n\nexport const deletePet = createAsyncThunk(\n  \"pets/delete\",\n  async (petId: string, { rejectWithValue }) => {\n    try {\n      await apiClient.delete(`/api/pets?id=${petId}`);\n      return petId;\n    } catch (error: any) {\n      return rejectWithValue(\n        error.response?.data?.error || \"Erreur de suppression de l'animal\"\n      );\n    }\n  }\n);\n\nconst petsSlice = createSlice({\n  name: \"pets\",\n  initialState,\n  reducers: {\n    selectPet: (state, action) => {\n      state.selectedPet = action.payload;\n    },\n    clearSelectedPet: (state) => {\n      state.selectedPet = null;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch Pets\n    builder\n      .addCase(fetchPets.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchPets.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.pets = action.payload;\n      })\n      .addCase(fetchPets.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Add Pet\n    builder\n      .addCase(addPet.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(addPet.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.pets.push(action.payload);\n      })\n      .addCase(addPet.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload as string;\n      });\n\n    // Update Pet\n    builder.addCase(updatePet.fulfilled, (state, action) => {\n      const index = state.pets.findIndex((p) => p._id === action.payload._id);\n      if (index !== -1) {\n        state.pets[index] = action.payload;\n      }\n      if (state.selectedPet?._id === action.payload._id) {\n        state.selectedPet = action.payload;\n      }\n    });\n\n    // Delete Pet\n    builder.addCase(deletePet.fulfilled, (state, action) => {\n      state.pets = state.pets.filter((p) => p._id !== action.payload);\n      if (state.selectedPet?._id === action.payload) {\n        state.selectedPet = null;\n      }\n    });\n  },\n});\n\nexport const { selectPet, clearSelectedPet, clearError } = petsSlice.actions;\nexport default petsSlice.reducer;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/store/slices/index.ts"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\nimport authReducer from \"./authSlice\";\nimport petsReducer from \"./petsSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    auth: authReducer,\n    pets: petsReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false,\n    }),\n  devTools: process.env.NODE_ENV !== \"production\",\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n"],"names":[],"mappings":";;;;AAaY;AAbZ;AACA;AACA;;;;AAEO,MAAM,QAAQ,IAAA,gNAAc,EAAC;IAClC,SAAS;QACP,MAAM,0IAAW;QACjB,MAAM,0IAAW;IACnB;IACA,YAAY,CAAC,uBACX,qBAAqB;YACnB,mBAAmB;QACrB;IACF,UAAU,oDAAyB;AACrC","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///Users/med_yassine_khlaf/Documents/GitHub/PetConnect_PWA/Provider/ReduxProvider.tsx"],"sourcesContent":["'use client';\n\nimport { Provider } from 'react-redux';\nimport { useEffect } from 'react';\nimport { initializeAuth } from '@/store/slices/authSlice';\nimport { store } from '@/store/slices';\n\nexport function ReduxProvider({ children }: { children: React.ReactNode }) {\n    useEffect(() => {\n        // Initialiser l'auth depuis localStorage au montage\n        store.dispatch(initializeAuth());\n    }, []);\n\n    return <Provider store={store}>{children}</Provider>;\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACrE,IAAA,0KAAS;mCAAC;YACN,oDAAoD;YACpD,oIAAK,CAAC,QAAQ,CAAC,IAAA,iJAAc;QACjC;kCAAG,EAAE;IAEL,qBAAO,6LAAC,wKAAQ;QAAC,OAAO,oIAAK;kBAAG;;;;;;AACpC;GAPgB;KAAA","debugId":null}}]
}