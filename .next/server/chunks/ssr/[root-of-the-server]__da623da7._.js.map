{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/vscode%20Projects/PetConnect_yassine/app/auth/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Image from 'next/image';\r\nimport { UserIcon, LockClosedIcon, EyeIcon, EyeSlashIcon } from '@heroicons/react/24/solid';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface LoginProps {\r\n    onSwitchToRegister: () => void;\r\n    onOpenForgotPassword: () => void;\r\n}\r\n\r\nconst Login = ({ onSwitchToRegister, onOpenForgotPassword }: LoginProps) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [rememberMe, setRememberMe] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n  e.preventDefault();\r\n  setError('');\r\n  setLoading(true);\r\n\r\n  try {\r\n    const response = await fetch('/api/auth/login', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) throw new Error(data.error || 'Erreur lors de la connexion');\r\n\r\n    if (data.token) {\r\n      // ✅ Store the token\r\n      localStorage.setItem('token', data.token);\r\n    }\r\n\r\n    router.push('/home'); // navigate to HomePage\r\n  } catch (err: any) {\r\n    setError(err.message);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 bg-cover bg-center flex items-center justify-center\"\r\n            style={{ backgroundImage: \"url('/images/home.jpg')\" }}\r\n        >\r\n            <div className=\"w-full max-w-md p-6 sm:p-8 bg-black/20 backdrop-blur-md rounded-lg shadow-md\">\r\n                <div className=\"text-center mb-6\">\r\n                    <div className=\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] rounded-full mb-4\">\r\n                        <div className=\"bg-gradient-to-r from-[#3D9EFF] to-[#FF9A3D] rounded-full p-2 overflow-hidden\">\r\n                            <Image src=\"/images/logo.png\" alt=\"Logo\" width={35} height={35} className=\"object-contain\" />\r\n                        </div>\r\n                    </div>\r\n                    <h1 className=\"text-2xl font-bold text-white\">Connexion</h1>\r\n                    <p className=\"text-white/80 mt-1\">Accédez à votre espace PetCareVerse</p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md text-sm\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    {/* Email */}\r\n                    <div>\r\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-white mb-1\">Email</label>\r\n                        <div className=\"relative\">\r\n                            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <UserIcon className=\"w-6 h-6 text-white/70\" />\r\n                            </div>\r\n                            <input\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                type=\"email\"\r\n                                required\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                className=\"w-full pl-10 pr-3 py-2 border border-white rounded-md bg-transparent text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-[#FFB8C2] focus:border-[#FFB8C2]\"\r\n                                placeholder=\"votre@email.com\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Password */}\r\n                    <div>\r\n                        <label htmlFor=\"password\" className=\"block text-sm font-medium text-white mb-1\">Mot de passe</label>\r\n                        <div className=\"relative\">\r\n                            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                                <LockClosedIcon className=\"w-6 h-6 text-white/70\" />\r\n                            </div>\r\n                            <input\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                type={showPassword ? 'text' : 'password'}\r\n                                required\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                className=\"w-full pl-10 pr-10 py-2 border border-white rounded-md bg-transparent text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-[#FFB8C2] focus:border-[#FFB8C2]\"\r\n                                placeholder=\"••••••••\"\r\n                            />\r\n                            <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\r\n                                <button type=\"button\" onClick={() => setShowPassword(!showPassword)} className=\"text-white/70 hover:text-white focus:outline-none\">\r\n                                    {showPassword ? <EyeSlashIcon className=\"w-6 h-6\" /> : <EyeIcon className=\"w-6 h-6\" />}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Remember & Forgot */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center\">\r\n                            <input\r\n                                id=\"remember-me\"\r\n                                name=\"remember-me\"\r\n                                type=\"checkbox\"\r\n                                checked={rememberMe}\r\n                                onChange={(e) => setRememberMe(e.target.checked)}\r\n                                className=\"h-4 w-4 text-[#FFB8C2] focus:ring-[#FFB8C2] border-gray-300 rounded\"\r\n                            />\r\n                            <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-white/80\">Se souvenir de moi</label>\r\n                        </div>\r\n                        <div className=\"text-sm\">\r\n                            <button\r\n                                onClick={onOpenForgotPassword}\r\n                                className=\"font-medium text-[#FFB8C2] hover:text-white transition-colors bg-transparent border-none cursor-pointer\"\r\n                            >\r\n                                Mot de passe oublié ?\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className={`w-full py-2 px-4 border border-transparent rounded-md text-black bg-gradient-to-r from-[#F5F5DC] to-[#FFB8C2] hover:from-[#FFB8C2] hover:to-[#F5F5DC] ${loading ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n                    >\r\n                        {loading ? 'Chargement...' : 'Se connecter'}\r\n                    </button>\r\n                </form>\r\n\r\n                <p className=\"mt-6 text-center text-white/80\">\r\n                    Pas encore de compte ? <button onClick={onSwitchToRegister} className=\"font-medium text-[#FFB8C2] hover:text-white transition-colors bg-transparent border-none cursor-pointer\">Créer un compte</button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}